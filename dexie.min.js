<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta name="description" content="The CDN for everything on npm"/><link rel="icon" type="image/jpeg" href="/favicon.jpg"/><link rel="stylesheet" href="https://app.unpkg.com/_assets/styles-D6XP7YEC.css"/><link rel="stylesheet" href="https://app.unpkg.com/_assets/code-light-B2LHUSJR.css"/><script type="importmap">{"imports":{"preact":"https://unpkg.com/preact@10.25.4/dist/preact.module.js","preact/hooks":"https://unpkg.com/preact@10.25.4/hooks/dist/hooks.module.js","preact/jsx-runtime":"https://unpkg.com/preact@10.25.4/jsx-runtime/dist/jsxRuntime.module.js"}}</script><script type="module" src="https://app.unpkg.com/_assets/scripts-5LWG6LQM.js" defer></script><title>UNPKG</title><script async src="https://www.googletagmanager.com/gtag/js?id=UA-140352188-1"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-140352188-1');</script></head><body><header class="border-b border-slate-300 bg-slate-100 text-slate-950"><div class="p-4 mx-auto flex justify-between items-center lg:max-w-screen-xl"><h1 class="text-2xl font-bold inline-block"><a href="https://unpkg.com">UNPKG</a></h1><span class="inline-block h-full"><a href="https://github.com/unpkg"><svg aria-hidden="true" fill="currentColor" viewBox="0 0 24 24" class="w-6 h-6"><path fill-rule="evenodd" d="M12.006 2a9.847 9.847 0 0 0-6.484 2.44 10.32 10.32 0 0 0-3.393 6.17 10.48 10.48 0 0 0 1.317 6.955 10.045 10.045 0 0 0 5.4 4.418c.504.095.683-.223.683-.494 0-.245-.01-1.052-.014-1.908-2.78.62-3.366-1.21-3.366-1.21a2.711 2.711 0 0 0-1.11-1.5c-.907-.637.07-.621.07-.621.317.044.62.163.885.346.266.183.487.426.647.71.135.253.318.476.538.655a2.079 2.079 0 0 0 2.37.196c.045-.52.27-1.006.635-1.37-2.219-.259-4.554-1.138-4.554-5.07a4.022 4.022 0 0 1 1.031-2.75 3.77 3.77 0 0 1 .096-2.713s.839-.275 2.749 1.05a9.26 9.26 0 0 1 5.004 0c1.906-1.325 2.74-1.05 2.74-1.05.37.858.406 1.828.101 2.713a4.017 4.017 0 0 1 1.029 2.75c0 3.939-2.339 4.805-4.564 5.058a2.471 2.471 0 0 1 .679 1.897c0 1.372-.012 2.477-.012 2.814 0 .272.18.592.687.492a10.05 10.05 0 0 0 5.388-4.421 10.473 10.473 0 0 0 1.313-6.948 10.32 10.32 0 0 0-3.39-6.165A9.847 9.847 0 0 0 12.007 2Z" clip-rule="evenodd"></path></svg></a></span></div></header><main class="px-4 pb-24 mx-auto lg:max-w-screen-xl lg:pb-44"><header class="pt-6 pb-4 lg:pt-16"><div class="mb-6 flex justify-between items-center"><h1 class="text-black text-3xl leading-tight font-semibold">dexie</h1><div class="text-right w-48"><span>Version: </span><span data-hydrate="{&quot;key&quot;:&quot;VersionSelector&quot;,&quot;props&quot;:{&quot;availableTags&quot;:{&quot;latest-3.0.x&quot;:&quot;3.0.4&quot;,&quot;latest-3&quot;:&quot;3.2.7&quot;,&quot;latest&quot;:&quot;4.3.0&quot;,&quot;canary&quot;:&quot;4.3.0&quot;},&quot;availableVersions&quot;:[&quot;4.3.0&quot;,&quot;4.2.1&quot;,&quot;4.2.1-rc.1&quot;,&quot;4.2.0&quot;,&quot;4.2.0-rc.1&quot;,&quot;4.2.0-alpha.1&quot;,&quot;4.1.0-beta.46&quot;,&quot;4.1.0-beta.45&quot;,&quot;4.1.0-beta.43&quot;,&quot;4.1.0-alpha.23&quot;,&quot;4.1.0-alpha.12&quot;,&quot;4.1.0-alpha.8&quot;,&quot;4.1.0-alpha.7&quot;,&quot;4.1.0-alpha.6&quot;,&quot;4.1.0-alpha.5&quot;,&quot;4.1.0-alpha.4&quot;,&quot;4.1.0-alpha.3&quot;,&quot;4.1.0-alpha.2&quot;,&quot;4.0.11&quot;,&quot;4.0.10&quot;,&quot;4.0.9&quot;,&quot;4.0.9-alpha.1&quot;,&quot;4.0.8&quot;,&quot;4.0.7&quot;,&quot;4.0.5&quot;,&quot;4.0.4&quot;,&quot;4.0.3&quot;,&quot;4.0.2&quot;,&quot;4.0.1&quot;,&quot;4.0.1-rc.1&quot;,&quot;4.0.1-beta.14&quot;,&quot;4.0.1-beta.13&quot;,&quot;4.0.1-beta.12&quot;,&quot;4.0.1-beta.11&quot;,&quot;4.0.1-beta.10&quot;,&quot;4.0.1-beta.9&quot;,&quot;4.0.1-beta.8&quot;,&quot;4.0.1-beta.7&quot;,&quot;4.0.1-beta.6&quot;,&quot;4.0.1-beta.5&quot;,&quot;4.0.1-beta.4&quot;,&quot;4.0.1-beta.3&quot;,&quot;4.0.1-beta.2&quot;,&quot;4.0.1-beta.1&quot;,&quot;4.0.1-alpha.27&quot;,&quot;4.0.1-alpha.26&quot;,&quot;4.0.1-alpha.25&quot;,&quot;4.0.1-alpha.24&quot;,&quot;4.0.1-alpha.23&quot;,&quot;4.0.1-alpha.22&quot;,&quot;4.0.1-alpha.21&quot;,&quot;4.0.1-alpha.20&quot;,&quot;4.0.1-alpha.19&quot;,&quot;4.0.1-alpha.18&quot;,&quot;4.0.1-alpha.17&quot;,&quot;4.0.1-alpha.16&quot;,&quot;4.0.1-alpha.15&quot;,&quot;4.0.1-alpha.14&quot;,&quot;4.0.1-alpha.13&quot;,&quot;4.0.1-alpha.12&quot;,&quot;4.0.1-alpha.11&quot;,&quot;4.0.1-alpha.10&quot;,&quot;4.0.1-alpha.8&quot;,&quot;4.0.1-alpha.7&quot;,&quot;4.0.1-alpha.6&quot;,&quot;4.0.0-alpha.4&quot;,&quot;4.0.0-alpha.3&quot;,&quot;4.0.0-alpha.2&quot;,&quot;4.0.0-alpha.1&quot;,&quot;3.2.7&quot;,&quot;3.2.6&quot;,&quot;3.2.5&quot;,&quot;3.2.4&quot;,&quot;3.2.4-beta.1&quot;,&quot;3.2.3&quot;,&quot;3.2.2&quot;,&quot;3.2.1&quot;,&quot;3.2.1-beta.2&quot;,&quot;3.2.1-beta.1&quot;,&quot;3.2.0&quot;,&quot;3.2.0-rc.3&quot;,&quot;3.2.0-rc.2&quot;,&quot;3.2.0-rc.1&quot;,&quot;3.2.0-beta-2&quot;,&quot;3.2.0-beta.3&quot;,&quot;3.2.0-beta.1&quot;,&quot;3.1.0-beta.13&quot;,&quot;3.1.0-beta.12&quot;,&quot;3.1.0-beta.11&quot;,&quot;3.1.0-alpha.10&quot;,&quot;3.1.0-alpha.9&quot;,&quot;3.1.0-alpha.8&quot;,&quot;3.1.0-alpha.7&quot;,&quot;3.1.0-alpha.6&quot;,&quot;3.1.0-alpha.5&quot;,&quot;3.1.0-alpha.4&quot;,&quot;3.1.0-alpha.3&quot;,&quot;3.1.0-alpha.1&quot;,&quot;3.0.4&quot;,&quot;3.0.3&quot;,&quot;3.0.3-rc.4&quot;,&quot;3.0.3-rc.3&quot;,&quot;3.0.3-rc.2&quot;,&quot;3.0.3-rc.1&quot;,&quot;3.0.2&quot;,&quot;3.0.1&quot;,&quot;3.0.0&quot;,&quot;3.0.0-rc.7&quot;,&quot;3.0.0-rc.6&quot;,&quot;3.0.0-rc.5&quot;,&quot;3.0.0-rc.4&quot;,&quot;3.0.0-rc.3&quot;,&quot;3.0.0-rc.2&quot;,&quot;3.0.0-rc.1&quot;,&quot;3.0.0-beta.1&quot;,&quot;3.0.0-alpha.8&quot;,&quot;3.0.0-alpha.7&quot;,&quot;3.0.0-alpha.6&quot;,&quot;3.0.0-alpha.5&quot;,&quot;3.0.0-alpha.4&quot;,&quot;3.0.0-alpha.3&quot;,&quot;3.0.0-alpha.2&quot;,&quot;3.0.0-alpha.1&quot;,&quot;2.0.4&quot;,&quot;2.0.3&quot;,&quot;2.0.2&quot;,&quot;2.0.1&quot;,&quot;2.0.0&quot;,&quot;2.0.0-rc.1&quot;,&quot;2.0.0-beta.11&quot;,&quot;2.0.0-beta.10&quot;,&quot;2.0.0-beta.9&quot;,&quot;2.0.0-beta.8&quot;,&quot;2.0.0-beta.7&quot;,&quot;2.0.0-beta.6&quot;,&quot;2.0.0-beta.5&quot;,&quot;2.0.0-beta.4&quot;,&quot;2.0.0-beta.3&quot;,&quot;2.0.0-beta.2&quot;,&quot;2.0.0-beta.1&quot;,&quot;1.5.1&quot;,&quot;1.5.0&quot;,&quot;1.5.0-rc.6&quot;,&quot;1.5.0-rc.5&quot;,&quot;1.5.0-rc.4&quot;,&quot;1.5.0-rc.3&quot;,&quot;1.5.0-rc.2&quot;,&quot;1.5.0-rc&quot;,&quot;1.4.3-rc&quot;,&quot;1.4.2&quot;,&quot;1.4.1&quot;,&quot;1.4.0&quot;,&quot;1.4.0-rc.1&quot;,&quot;1.4.0-beta2&quot;,&quot;1.4.0-beta.3&quot;,&quot;1.4.0-beta&quot;,&quot;1.3.6&quot;,&quot;1.3.6-rc.1&quot;,&quot;1.3.6-beta.3&quot;,&quot;1.3.6-beta.2&quot;,&quot;1.3.6-beta.1&quot;,&quot;1.3.5-beta.2&quot;,&quot;1.3.5-beta&quot;,&quot;1.3.4&quot;,&quot;1.3.4-beta2&quot;,&quot;1.3.4-beta&quot;,&quot;1.3.3&quot;,&quot;1.3.2&quot;,&quot;1.3.1&quot;,&quot;1.3.0&quot;,&quot;1.2.0&quot;,&quot;1.1.0&quot;,&quot;1.0.4&quot;,&quot;1.0.3&quot;,&quot;1.0.2&quot;,&quot;1.0.1&quot;,&quot;1.0.0&quot;,&quot;0.9.9&quot;],&quot;currentVersion&quot;:&quot;4.2.1&quot;,&quot;pathnameFormat&quot;:&quot;/dexie@%s/files/dist/dexie.min.js&quot;,&quot;class&quot;:&quot;w-28 p-1 border border-slate-300 bg-slate-100 text-sm&quot;}}"><select name="version" class="w-28 p-1 border border-slate-300 bg-slate-100 text-sm"><optgroup label="Tags"><option value="4.3.0">canary (4.3.0)</option><option value="4.3.0">latest (4.3.0)</option><option value="3.2.7">latest-3 (3.2.7)</option><option value="3.0.4">latest-3.0.x (3.0.4)</option></optgroup><optgroup label="Versions"><option value="4.3.0">4.3.0</option><option selected value="4.2.1">4.2.1</option><option value="4.2.1-rc.1">4.2.1-rc.1</option><option value="4.2.0">4.2.0</option><option value="4.2.0-rc.1">4.2.0-rc.1</option><option value="4.2.0-alpha.1">4.2.0-alpha.1</option><option value="4.1.0-beta.46">4.1.0-beta.46</option><option value="4.1.0-beta.45">4.1.0-beta.45</option><option value="4.1.0-beta.43">4.1.0-beta.43</option><option value="4.1.0-alpha.23">4.1.0-alpha.23</option><option value="4.1.0-alpha.12">4.1.0-alpha.12</option><option value="4.1.0-alpha.8">4.1.0-alpha.8</option><option value="4.1.0-alpha.7">4.1.0-alpha.7</option><option value="4.1.0-alpha.6">4.1.0-alpha.6</option><option value="4.1.0-alpha.5">4.1.0-alpha.5</option><option value="4.1.0-alpha.4">4.1.0-alpha.4</option><option value="4.1.0-alpha.3">4.1.0-alpha.3</option><option value="4.1.0-alpha.2">4.1.0-alpha.2</option><option value="4.0.11">4.0.11</option><option value="4.0.10">4.0.10</option><option value="4.0.9">4.0.9</option><option value="4.0.9-alpha.1">4.0.9-alpha.1</option><option value="4.0.8">4.0.8</option><option value="4.0.7">4.0.7</option><option value="4.0.5">4.0.5</option><option value="4.0.4">4.0.4</option><option value="4.0.3">4.0.3</option><option value="4.0.2">4.0.2</option><option value="4.0.1">4.0.1</option><option value="4.0.1-rc.1">4.0.1-rc.1</option><option value="4.0.1-beta.14">4.0.1-beta.14</option><option value="4.0.1-beta.13">4.0.1-beta.13</option><option value="4.0.1-beta.12">4.0.1-beta.12</option><option value="4.0.1-beta.11">4.0.1-beta.11</option><option value="4.0.1-beta.10">4.0.1-beta.10</option><option value="4.0.1-beta.9">4.0.1-beta.9</option><option value="4.0.1-beta.8">4.0.1-beta.8</option><option value="4.0.1-beta.7">4.0.1-beta.7</option><option value="4.0.1-beta.6">4.0.1-beta.6</option><option value="4.0.1-beta.5">4.0.1-beta.5</option><option value="4.0.1-beta.4">4.0.1-beta.4</option><option value="4.0.1-beta.3">4.0.1-beta.3</option><option value="4.0.1-beta.2">4.0.1-beta.2</option><option value="4.0.1-beta.1">4.0.1-beta.1</option><option value="4.0.1-alpha.27">4.0.1-alpha.27</option><option value="4.0.1-alpha.26">4.0.1-alpha.26</option><option value="4.0.1-alpha.25">4.0.1-alpha.25</option><option value="4.0.1-alpha.24">4.0.1-alpha.24</option><option value="4.0.1-alpha.23">4.0.1-alpha.23</option><option value="4.0.1-alpha.22">4.0.1-alpha.22</option><option value="4.0.1-alpha.21">4.0.1-alpha.21</option><option value="4.0.1-alpha.20">4.0.1-alpha.20</option><option value="4.0.1-alpha.19">4.0.1-alpha.19</option><option value="4.0.1-alpha.18">4.0.1-alpha.18</option><option value="4.0.1-alpha.17">4.0.1-alpha.17</option><option value="4.0.1-alpha.16">4.0.1-alpha.16</option><option value="4.0.1-alpha.15">4.0.1-alpha.15</option><option value="4.0.1-alpha.14">4.0.1-alpha.14</option><option value="4.0.1-alpha.13">4.0.1-alpha.13</option><option value="4.0.1-alpha.12">4.0.1-alpha.12</option><option value="4.0.1-alpha.11">4.0.1-alpha.11</option><option value="4.0.1-alpha.10">4.0.1-alpha.10</option><option value="4.0.1-alpha.8">4.0.1-alpha.8</option><option value="4.0.1-alpha.7">4.0.1-alpha.7</option><option value="4.0.1-alpha.6">4.0.1-alpha.6</option><option value="4.0.0-alpha.4">4.0.0-alpha.4</option><option value="4.0.0-alpha.3">4.0.0-alpha.3</option><option value="4.0.0-alpha.2">4.0.0-alpha.2</option><option value="4.0.0-alpha.1">4.0.0-alpha.1</option><option value="3.2.7">3.2.7</option><option value="3.2.6">3.2.6</option><option value="3.2.5">3.2.5</option><option value="3.2.4">3.2.4</option><option value="3.2.4-beta.1">3.2.4-beta.1</option><option value="3.2.3">3.2.3</option><option value="3.2.2">3.2.2</option><option value="3.2.1">3.2.1</option><option value="3.2.1-beta.2">3.2.1-beta.2</option><option value="3.2.1-beta.1">3.2.1-beta.1</option><option value="3.2.0">3.2.0</option><option value="3.2.0-rc.3">3.2.0-rc.3</option><option value="3.2.0-rc.2">3.2.0-rc.2</option><option value="3.2.0-rc.1">3.2.0-rc.1</option><option value="3.2.0-beta-2">3.2.0-beta-2</option><option value="3.2.0-beta.3">3.2.0-beta.3</option><option value="3.2.0-beta.1">3.2.0-beta.1</option><option value="3.1.0-beta.13">3.1.0-beta.13</option><option value="3.1.0-beta.12">3.1.0-beta.12</option><option value="3.1.0-beta.11">3.1.0-beta.11</option><option value="3.1.0-alpha.10">3.1.0-alpha.10</option><option value="3.1.0-alpha.9">3.1.0-alpha.9</option><option value="3.1.0-alpha.8">3.1.0-alpha.8</option><option value="3.1.0-alpha.7">3.1.0-alpha.7</option><option value="3.1.0-alpha.6">3.1.0-alpha.6</option><option value="3.1.0-alpha.5">3.1.0-alpha.5</option><option value="3.1.0-alpha.4">3.1.0-alpha.4</option><option value="3.1.0-alpha.3">3.1.0-alpha.3</option><option value="3.1.0-alpha.1">3.1.0-alpha.1</option><option value="3.0.4">3.0.4</option><option value="3.0.3">3.0.3</option><option value="3.0.3-rc.4">3.0.3-rc.4</option><option value="3.0.3-rc.3">3.0.3-rc.3</option><option value="3.0.3-rc.2">3.0.3-rc.2</option><option value="3.0.3-rc.1">3.0.3-rc.1</option><option value="3.0.2">3.0.2</option><option value="3.0.1">3.0.1</option><option value="3.0.0">3.0.0</option><option value="3.0.0-rc.7">3.0.0-rc.7</option><option value="3.0.0-rc.6">3.0.0-rc.6</option><option value="3.0.0-rc.5">3.0.0-rc.5</option><option value="3.0.0-rc.4">3.0.0-rc.4</option><option value="3.0.0-rc.3">3.0.0-rc.3</option><option value="3.0.0-rc.2">3.0.0-rc.2</option><option value="3.0.0-rc.1">3.0.0-rc.1</option><option value="3.0.0-beta.1">3.0.0-beta.1</option><option value="3.0.0-alpha.8">3.0.0-alpha.8</option><option value="3.0.0-alpha.7">3.0.0-alpha.7</option><option value="3.0.0-alpha.6">3.0.0-alpha.6</option><option value="3.0.0-alpha.5">3.0.0-alpha.5</option><option value="3.0.0-alpha.4">3.0.0-alpha.4</option><option value="3.0.0-alpha.3">3.0.0-alpha.3</option><option value="3.0.0-alpha.2">3.0.0-alpha.2</option><option value="3.0.0-alpha.1">3.0.0-alpha.1</option><option value="2.0.4">2.0.4</option><option value="2.0.3">2.0.3</option><option value="2.0.2">2.0.2</option><option value="2.0.1">2.0.1</option><option value="2.0.0">2.0.0</option><option value="2.0.0-rc.1">2.0.0-rc.1</option><option value="2.0.0-beta.11">2.0.0-beta.11</option><option value="2.0.0-beta.10">2.0.0-beta.10</option><option value="2.0.0-beta.9">2.0.0-beta.9</option><option value="2.0.0-beta.8">2.0.0-beta.8</option><option value="2.0.0-beta.7">2.0.0-beta.7</option><option value="2.0.0-beta.6">2.0.0-beta.6</option><option value="2.0.0-beta.5">2.0.0-beta.5</option><option value="2.0.0-beta.4">2.0.0-beta.4</option><option value="2.0.0-beta.3">2.0.0-beta.3</option><option value="2.0.0-beta.2">2.0.0-beta.2</option><option value="2.0.0-beta.1">2.0.0-beta.1</option><option value="1.5.1">1.5.1</option><option value="1.5.0">1.5.0</option><option value="1.5.0-rc.6">1.5.0-rc.6</option><option value="1.5.0-rc.5">1.5.0-rc.5</option><option value="1.5.0-rc.4">1.5.0-rc.4</option><option value="1.5.0-rc.3">1.5.0-rc.3</option><option value="1.5.0-rc.2">1.5.0-rc.2</option><option value="1.5.0-rc">1.5.0-rc</option><option value="1.4.3-rc">1.4.3-rc</option><option value="1.4.2">1.4.2</option><option value="1.4.1">1.4.1</option><option value="1.4.0">1.4.0</option><option value="1.4.0-rc.1">1.4.0-rc.1</option><option value="1.4.0-beta2">1.4.0-beta2</option><option value="1.4.0-beta.3">1.4.0-beta.3</option><option value="1.4.0-beta">1.4.0-beta</option><option value="1.3.6">1.3.6</option><option value="1.3.6-rc.1">1.3.6-rc.1</option><option value="1.3.6-beta.3">1.3.6-beta.3</option><option value="1.3.6-beta.2">1.3.6-beta.2</option><option value="1.3.6-beta.1">1.3.6-beta.1</option><option value="1.3.5-beta.2">1.3.5-beta.2</option><option value="1.3.5-beta">1.3.5-beta</option><option value="1.3.4">1.3.4</option><option value="1.3.4-beta2">1.3.4-beta2</option><option value="1.3.4-beta">1.3.4-beta</option><option value="1.3.3">1.3.3</option><option value="1.3.2">1.3.2</option><option value="1.3.1">1.3.1</option><option value="1.3.0">1.3.0</option><option value="1.2.0">1.2.0</option><option value="1.1.0">1.1.0</option><option value="1.0.4">1.0.4</option><option value="1.0.3">1.0.3</option><option value="1.0.2">1.0.2</option><option value="1.0.1">1.0.1</option><option value="1.0.0">1.0.0</option><option value="0.9.9">0.9.9</option></optgroup></select></span></div></div><div class="mt-2"><p class="mb-3 leading-tight"><span>A Minimalistic Wrapper for IndexedDB</span></p><div class="lg:hidden"><p class="mt-1 text-sm leading-4"><a href="https://dexie.org/" title="Visit the dexie website" class="inline-flex items-center hover:text-slate-950 hover:underline"><svg aria-hidden="true" fill="none" viewBox="0 0 24 24" class="w-6 h-6"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.213 9.787a3.391 3.391 0 0 0-4.795 0l-3.425 3.426a3.39 3.39 0 0 0 4.795 4.794l.321-.304m-.321-4.49a3.39 3.39 0 0 0 4.795 0l3.424-3.426a3.39 3.39 0 0 0-4.794-4.795l-1.028.961"></path></svg><span class="ml-1">dexie.org</span></a></p><p class="mt-1 text-sm leading-4"><a href="https://github.com/dexie/Dexie.js" title="View the dexie repository on GitHub" class="inline-flex items-center hover:text-slate-950 hover:underline"><svg aria-hidden="true" fill="currentColor" viewBox="0 0 24 24" class="w-6 h-6"><path fill-rule="evenodd" d="M12.006 2a9.847 9.847 0 0 0-6.484 2.44 10.32 10.32 0 0 0-3.393 6.17 10.48 10.48 0 0 0 1.317 6.955 10.045 10.045 0 0 0 5.4 4.418c.504.095.683-.223.683-.494 0-.245-.01-1.052-.014-1.908-2.78.62-3.366-1.21-3.366-1.21a2.711 2.711 0 0 0-1.11-1.5c-.907-.637.07-.621.07-.621.317.044.62.163.885.346.266.183.487.426.647.71.135.253.318.476.538.655a2.079 2.079 0 0 0 2.37.196c.045-.52.27-1.006.635-1.37-2.219-.259-4.554-1.138-4.554-5.07a4.022 4.022 0 0 1 1.031-2.75 3.77 3.77 0 0 1 .096-2.713s.839-.275 2.749 1.05a9.26 9.26 0 0 1 5.004 0c1.906-1.325 2.74-1.05 2.74-1.05.37.858.406 1.828.101 2.713a4.017 4.017 0 0 1 1.029 2.75c0 3.939-2.339 4.805-4.564 5.058a2.471 2.471 0 0 1 .679 1.897c0 1.372-.012 2.477-.012 2.814 0 .272.18.592.687.492a10.05 10.05 0 0 0 5.388-4.421 10.473 10.473 0 0 0 1.313-6.948 10.32 10.32 0 0 0-3.39-6.165A9.847 9.847 0 0 0 12.007 2Z" clip-rule="evenodd"></path></svg><span class="ml-1">dexie/Dexie.js</span></a></p></div></div></header><nav class="py-2"><span><a href="https://app.unpkg.com/dexie@4.2.1" class="text-blue-600 hover:underline">dexie</a></span><span> / </span><span><a href="https://app.unpkg.com/dexie@4.2.1/files/dist" class="text-blue-600 hover:underline">dist</a></span><span> / </span><span>dexie.min.js</span></nav><div class="p-3 border border-slate-300 bg-slate-100 text-sm flex justify-between select-none"><div class="w-64"><span><span>1 lines </span><span>â€¢ </span></span><span>95.8 kB</span></div><div class="hidden flex-grow sm:block text-center">JavaScript</div><div class="w-64 hidden sm:block text-right"><a href="https://unpkg.com/dexie@4.2.1/dist/dexie.min.js" class="py-1 px-2 border border-slate-300 bg-slate-100 hover:bg-slate-200 rounded-sm">View Raw</a></div></div><div data-hydrate="{&quot;key&quot;:&quot;CodeViewer&quot;,&quot;props&quot;:{&quot;html&quot;:&quot;(function(e,t){&amp;quot;object&amp;quot;==typeof exports&amp;amp;&amp;amp;&amp;quot;undefined&amp;quot;!=typeof module?module.exports=t():&amp;quot;function&amp;quot;==typeof define&amp;amp;&amp;amp;define.amd?define(t):(e=&amp;quot;undefined&amp;quot;!=typeof globalThis?globalThis:e||self).Dexie=t()})(this,function(){&amp;quot;use strict&amp;quot;;var s=function(e,t){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&amp;amp;&amp;amp;function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&amp;amp;&amp;amp;(e[n]=t[n])})(e,t)};var _=function(){return(_=Object.assign||function(e){for(var t,n=1,r=arguments.length;n&amp;lt;r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&amp;amp;&amp;amp;(e[i]=t[i]);return e}).apply(this,arguments)};function i(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i&amp;lt;o;i++)!r&amp;amp;&amp;amp;i in t||((r=r||Array.prototype.slice.call(t,0,i))[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}var f=&amp;quot;undefined&amp;quot;!=typeof globalThis?globalThis:&amp;quot;undefined&amp;quot;!=typeof self?self:&amp;quot;undefined&amp;quot;!=typeof window?window:global,O=Object.keys,x=Array.isArray;function a(t,n){return&amp;quot;object&amp;quot;!=typeof n||O(n).forEach(function(e){t[e]=n[e]}),t}&amp;quot;undefined&amp;quot;==typeof Promise||f.Promise||(f.Promise=Promise);var c=Object.getPrototypeOf,n={}.hasOwnProperty;function m(e,t){return n.call(e,t)}function r(t,n){&amp;quot;function&amp;quot;==typeof n&amp;amp;&amp;amp;(n=n(c(t))),(&amp;quot;undefined&amp;quot;==typeof Reflect?O:Reflect.ownKeys)(n).forEach(function(e){l(t,e,n[e])})}var u=Object.defineProperty;function l(e,t,n,r){u(e,t,a(n&amp;amp;&amp;amp;m(n,&amp;quot;get&amp;quot;)&amp;amp;&amp;amp;&amp;quot;function&amp;quot;==typeof n.get?{get:n.get,set:n.set,configurable:!0}:{value:n,configurable:!0,writable:!0},r))}function o(t){return{from:function(e){return t.prototype=Object.create(e.prototype),l(t.prototype,&amp;quot;constructor&amp;quot;,t),{extend:r.bind(null,t.prototype)}}}}var h=Object.getOwnPropertyDescriptor;var d=[].slice;function b(e,t,n){return d.call(e,t,n)}function p(e,t){return t(e)}function y(e){if(!e)throw new Error(&amp;quot;Assertion Failed&amp;quot;)}function v(e){f.setImmediate?setImmediate(e):setTimeout(e,0)}function g(e,t){if(&amp;quot;string&amp;quot;==typeof t&amp;amp;&amp;amp;m(e,t))return e[t];if(!t)return e;if(&amp;quot;string&amp;quot;!=typeof t){for(var n=[],r=0,i=t.length;r&amp;lt;i;++r){var o=g(e,t[r]);n.push(o)}return n}var a=t.indexOf(&amp;quot;.&amp;quot;);if(-1!==a){var u=e[t.substr(0,a)];return null==u?void 0:g(u,t.substr(a+1))}}function w(e,t,n){if(e&amp;amp;&amp;amp;void 0!==t&amp;amp;&amp;amp;!(&amp;quot;isFrozen&amp;quot;in Object&amp;amp;&amp;amp;Object.isFrozen(e)))if(&amp;quot;string&amp;quot;!=typeof t&amp;amp;&amp;amp;&amp;quot;length&amp;quot;in t){y(&amp;quot;string&amp;quot;!=typeof n&amp;amp;&amp;amp;&amp;quot;length&amp;quot;in n);for(var r=0,i=t.length;r&amp;lt;i;++r)w(e,t[r],n[r])}else{var o,a,u=t.indexOf(&amp;quot;.&amp;quot;);-1!==u?(o=t.substr(0,u),&amp;quot;&amp;quot;===(a=t.substr(u+1))?void 0===n?x(e)&amp;amp;&amp;amp;!isNaN(parseInt(o))?e.splice(o,1):delete e[o]:e[o]=n:w(u=!(u=e[o])||!m(e,o)?e[o]={}:u,a,n)):void 0===n?x(e)&amp;amp;&amp;amp;!isNaN(parseInt(t))?e.splice(t,1):delete e[t]:e[t]=n}}function k(e){var t,n={};for(t in e)m(e,t)&amp;amp;&amp;amp;(n[t]=e[t]);return n}var t=[].concat;function P(e){return t.apply([],e)}var e=&amp;quot;BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey&amp;quot;.split(&amp;quot;,&amp;quot;).concat(P([8,16,32,64].map(function(t){return[&amp;quot;Int&amp;quot;,&amp;quot;Uint&amp;quot;,&amp;quot;Float&amp;quot;].map(function(e){return e+t+&amp;quot;Array&amp;quot;})}))).filter(function(e){return f[e]}),K=new Set(e.map(function(e){return f[e]}));var E=null;function S(e){E=new WeakMap;e=function e(t){if(!t||&amp;quot;object&amp;quot;!=typeof t)return t;var n=E.get(t);if(n)return n;if(x(t)){n=[],E.set(t,n);for(var r=0,i=t.length;r&amp;lt;i;++r)n.push(e(t[r]))}else if(K.has(t.constructor))n=t;else{var o,a=c(t);for(o in n=a===Object.prototype?{}:Object.create(a),E.set(t,n),t)m(t,o)&amp;amp;&amp;amp;(n[o]=e(t[o]))}return n}(e);return E=null,e}var j={}.toString;function A(e){return j.call(e).slice(8,-1)}var C=&amp;quot;undefined&amp;quot;!=typeof Symbol?Symbol.iterator:&amp;quot;@@iterator&amp;quot;,T=&amp;quot;symbol&amp;quot;==typeof C?function(e){var t;return null!=e&amp;amp;&amp;amp;(t=e[C])&amp;amp;&amp;amp;t.apply(e)}:function(){return null};function I(e,t){t=e.indexOf(t);return 0&amp;lt;=t&amp;amp;&amp;amp;e.splice(t,1),0&amp;lt;=t}var q={};function D(e){var t,n,r,i;if(1===arguments.length){if(x(e))return e.slice();if(this===q&amp;amp;&amp;amp;&amp;quot;string&amp;quot;==typeof e)return[e];if(i=T(e)){for(n=[];!(r=i.next()).done;)n.push(r.value);return n}if(null==e)return[e];if(&amp;quot;number&amp;quot;!=typeof(t=e.length))return[e];for(n=new Array(t);t--;)n[t]=e[t];return n}for(t=arguments.length,n=new Array(t);t--;)n[t]=arguments[t];return n}var B=&amp;quot;undefined&amp;quot;!=typeof Symbol?function(e){return&amp;quot;AsyncFunction&amp;quot;===e[Symbol.toStringTag]}:function(){return!1},R=[&amp;quot;Unknown&amp;quot;,&amp;quot;Constraint&amp;quot;,&amp;quot;Data&amp;quot;,&amp;quot;TransactionInactive&amp;quot;,&amp;quot;ReadOnly&amp;quot;,&amp;quot;Version&amp;quot;,&amp;quot;NotFound&amp;quot;,&amp;quot;InvalidState&amp;quot;,&amp;quot;InvalidAccess&amp;quot;,&amp;quot;Abort&amp;quot;,&amp;quot;Timeout&amp;quot;,&amp;quot;QuotaExceeded&amp;quot;,&amp;quot;Syntax&amp;quot;,&amp;quot;DataClone&amp;quot;],F=[&amp;quot;Modify&amp;quot;,&amp;quot;Bulk&amp;quot;,&amp;quot;OpenFailed&amp;quot;,&amp;quot;VersionChange&amp;quot;,&amp;quot;Schema&amp;quot;,&amp;quot;Upgrade&amp;quot;,&amp;quot;InvalidTable&amp;quot;,&amp;quot;MissingAPI&amp;quot;,&amp;quot;NoSuchDatabase&amp;quot;,&amp;quot;InvalidArgument&amp;quot;,&amp;quot;SubTransaction&amp;quot;,&amp;quot;Unsupported&amp;quot;,&amp;quot;Internal&amp;quot;,&amp;quot;DatabaseClosed&amp;quot;,&amp;quot;PrematureCommit&amp;quot;,&amp;quot;ForeignAwait&amp;quot;].concat(R),M={VersionChanged:&amp;quot;Database version changed by other database connection&amp;quot;,DatabaseClosed:&amp;quot;Database has been closed&amp;quot;,Abort:&amp;quot;Transaction aborted&amp;quot;,TransactionInactive:&amp;quot;Transaction has already completed or failed&amp;quot;,MissingAPI:&amp;quot;IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb&amp;quot;};function N(e,t){this.name=e,this.message=t}function L(e,t){return e+&amp;quot;. Errors: &amp;quot;+Object.keys(t).map(function(e){return t[e].toString()}).filter(function(e,t,n){return n.indexOf(e)===t}).join(&amp;quot;\\n&amp;quot;)}function U(e,t,n,r){this.failures=t,this.failedKeys=r,this.successCount=n,this.message=L(e,t)}function V(e,t){this.name=&amp;quot;BulkError&amp;quot;,this.failures=Object.keys(t).map(function(e){return t[e]}),this.failuresByPos=t,this.message=L(e,this.failures)}o(N).from(Error).extend({toString:function(){return this.name+&amp;quot;: &amp;quot;+this.message}}),o(U).from(N),o(V).from(N);var z=F.reduce(function(e,t){return e[t]=t+&amp;quot;Error&amp;quot;,e},{}),W=N,Y=F.reduce(function(e,n){var r=n+&amp;quot;Error&amp;quot;;function t(e,t){this.name=r,e?&amp;quot;string&amp;quot;==typeof e?(this.message=&amp;quot;&amp;quot;.concat(e).concat(t?&amp;quot;\\n &amp;quot;+t:&amp;quot;&amp;quot;),this.inner=t||null):&amp;quot;object&amp;quot;==typeof e&amp;amp;&amp;amp;(this.message=&amp;quot;&amp;quot;.concat(e.name,&amp;quot; &amp;quot;).concat(e.message),this.inner=e):(this.message=M[n]||r,this.inner=null)}return o(t).from(W),e[n]=t,e},{});Y.Syntax=SyntaxError,Y.Type=TypeError,Y.Range=RangeError;var $=R.reduce(function(e,t){return e[t+&amp;quot;Error&amp;quot;]=Y[t],e},{});var Q=F.reduce(function(e,t){return-1===[&amp;quot;Syntax&amp;quot;,&amp;quot;Type&amp;quot;,&amp;quot;Range&amp;quot;].indexOf(t)&amp;amp;&amp;amp;(e[t+&amp;quot;Error&amp;quot;]=Y[t]),e},{});function G(){}function X(e){return e}function H(t,n){return null==t||t===X?n:function(e){return n(t(e))}}function J(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function Z(i,o){return i===G?o:function(){var e=i.apply(this,arguments);void 0!==e&amp;amp;&amp;amp;(arguments[0]=e);var t=this.onsuccess,n=this.onerror;this.onsuccess=null,this.onerror=null;var r=o.apply(this,arguments);return t&amp;amp;&amp;amp;(this.onsuccess=this.onsuccess?J(t,this.onsuccess):t),n&amp;amp;&amp;amp;(this.onerror=this.onerror?J(n,this.onerror):n),void 0!==r?r:e}}function ee(n,r){return n===G?r:function(){n.apply(this,arguments);var e=this.onsuccess,t=this.onerror;this.onsuccess=this.onerror=null,r.apply(this,arguments),e&amp;amp;&amp;amp;(this.onsuccess=this.onsuccess?J(e,this.onsuccess):e),t&amp;amp;&amp;amp;(this.onerror=this.onerror?J(t,this.onerror):t)}}function te(i,o){return i===G?o:function(e){var t=i.apply(this,arguments);a(e,t);var n=this.onsuccess,r=this.onerror;this.onsuccess=null,this.onerror=null;e=o.apply(this,arguments);return n&amp;amp;&amp;amp;(this.onsuccess=this.onsuccess?J(n,this.onsuccess):n),r&amp;amp;&amp;amp;(this.onerror=this.onerror?J(r,this.onerror):r),void 0===t?void 0===e?void 0:e:a(t,e)}}function ne(e,t){return e===G?t:function(){return!1!==t.apply(this,arguments)&amp;amp;&amp;amp;e.apply(this,arguments)}}function re(i,o){return i===G?o:function(){var e=i.apply(this,arguments);if(e&amp;amp;&amp;amp;&amp;quot;function&amp;quot;==typeof e.then){for(var t=this,n=arguments.length,r=new Array(n);n--;)r[n]=arguments[n];return e.then(function(){return o.apply(t,r)})}return o.apply(this,arguments)}}Q.ModifyError=U,Q.DexieError=N,Q.BulkError=V;var ie=&amp;quot;undefined&amp;quot;!=typeof location&amp;amp;&amp;amp;/^(http|https):\\/\\/(localhost|127\\.0\\.0\\.1)/.test(location.href);function oe(e){ie=e}var ae={},ue=100,e=&amp;quot;undefined&amp;quot;==typeof Promise?[]:function(){var e=Promise.resolve();if(&amp;quot;undefined&amp;quot;==typeof crypto||!crypto.subtle)return[e,c(e),e];var t=crypto.subtle.digest(&amp;quot;SHA-512&amp;quot;,new Uint8Array([0]));return[t,c(t),e]}(),R=e[0],F=e[1],e=e[2],F=F&amp;amp;&amp;amp;F.then,se=R&amp;amp;&amp;amp;R.constructor,ce=!!e;var le=function(e,t){be.push([e,t]),he&amp;amp;&amp;amp;(queueMicrotask(Se),he=!1)},fe=!0,he=!0,de=[],pe=[],ye=X,ve={id:&amp;quot;global&amp;quot;,global:!0,ref:0,unhandleds:[],onunhandled:G,pgp:!1,env:{},finalize:G},me=ve,be=[],ge=0,we=[];function _e(e){if(&amp;quot;object&amp;quot;!=typeof this)throw new TypeError(&amp;quot;Promises must be constructed via new&amp;quot;);this._listeners=[],this._lib=!1;var t=this._PSD=me;if(&amp;quot;function&amp;quot;!=typeof e){if(e!==ae)throw new TypeError(&amp;quot;Not a function&amp;quot;);return this._state=arguments[1],this._value=arguments[2],void(!1===this._state&amp;amp;&amp;amp;Oe(this,this._value))}this._state=null,this._value=null,++t.ref,function t(r,e){try{e(function(n){if(null===r._state){if(n===r)throw new TypeError(&amp;quot;A promise cannot be resolved with itself.&amp;quot;);var e=r._lib&amp;amp;&amp;amp;je();n&amp;amp;&amp;amp;&amp;quot;function&amp;quot;==typeof n.then?t(r,function(e,t){n instanceof _e?n._then(e,t):n.then(e,t)}):(r._state=!0,r._value=n,Pe(r)),e&amp;amp;&amp;amp;Ae()}},Oe.bind(null,r))}catch(e){Oe(r,e)}}(this,e)}var xe={get:function(){var u=me,t=Fe;function e(n,r){var i=this,o=!u.global&amp;amp;&amp;amp;(u!==me||t!==Fe),a=o&amp;amp;&amp;amp;!Ue(),e=new _e(function(e,t){Ke(i,new ke(Qe(n,u,o,a),Qe(r,u,o,a),e,t,u))});return this._consoleTask&amp;amp;&amp;amp;(e._consoleTask=this._consoleTask),e}return e.prototype=ae,e},set:function(e){l(this,&amp;quot;then&amp;quot;,e&amp;amp;&amp;amp;e.prototype===ae?xe:{get:function(){return e},set:xe.set})}};function ke(e,t,n,r,i){this.onFulfilled=&amp;quot;function&amp;quot;==typeof e?e:null,this.onRejected=&amp;quot;function&amp;quot;==typeof t?t:null,this.resolve=n,this.reject=r,this.psd=i}function Oe(e,t){var n,r;pe.push(t),null===e._state&amp;amp;&amp;amp;(n=e._lib&amp;amp;&amp;amp;je(),t=ye(t),e._state=!1,e._value=t,r=e,de.some(function(e){return e._value===r._value})||de.push(r),Pe(e),n&amp;amp;&amp;amp;Ae())}function Pe(e){var t=e._listeners;e._listeners=[];for(var n=0,r=t.length;n&amp;lt;r;++n)Ke(e,t[n]);var i=e._PSD;--i.ref||i.finalize(),0===ge&amp;amp;&amp;amp;(++ge,le(function(){0==--ge&amp;amp;&amp;amp;Ce()},[]))}function Ke(e,t){if(null!==e._state){var n=e._state?t.onFulfilled:t.onRejected;if(null===n)return(e._state?t.resolve:t.reject)(e._value);++t.psd.ref,++ge,le(Ee,[n,e,t])}else e._listeners.push(t)}function Ee(e,t,n){try{var r,i=t._value;!t._state&amp;amp;&amp;amp;pe.length&amp;amp;&amp;amp;(pe=[]),r=ie&amp;amp;&amp;amp;t._consoleTask?t._consoleTask.run(function(){return e(i)}):e(i),t._state||-1!==pe.indexOf(i)||function(e){var t=de.length;for(;t;)if(de[--t]._value===e._value)return de.splice(t,1)}(t),n.resolve(r)}catch(e){n.reject(e)}finally{0==--ge&amp;amp;&amp;amp;Ce(),--n.psd.ref||n.psd.finalize()}}function Se(){$e(ve,function(){je()&amp;amp;&amp;amp;Ae()})}function je(){var e=fe;return he=fe=!1,e}function Ae(){var e,t,n;do{for(;0&amp;lt;be.length;)for(e=be,be=[],n=e.length,t=0;t&amp;lt;n;++t){var r=e[t];r[0].apply(null,r[1])}}while(0&amp;lt;be.length);he=fe=!0}function Ce(){var e=de;de=[],e.forEach(function(e){e._PSD.onunhandled.call(null,e._value,e)});for(var t=we.slice(0),n=t.length;n;)t[--n]()}function Te(e){return new _e(ae,!1,e)}function Ie(n,r){var i=me;return function(){var e=je(),t=me;try{return We(i,!0),n.apply(this,arguments)}catch(e){r&amp;amp;&amp;amp;r(e)}finally{We(t,!1),e&amp;amp;&amp;amp;Ae()}}}r(_e.prototype,{then:xe,_then:function(e,t){Ke(this,new ke(null,null,e,t,me))},catch:function(e){if(1===arguments.length)return this.then(null,e);var t=e,n=arguments[1];return&amp;quot;function&amp;quot;==typeof t?this.then(null,function(e){return(e instanceof t?n:Te)(e)}):this.then(null,function(e){return(e&amp;amp;&amp;amp;e.name===t?n:Te)(e)})},finally:function(t){return this.then(function(e){return _e.resolve(t()).then(function(){return e})},function(e){return _e.resolve(t()).then(function(){return Te(e)})})},timeout:function(r,i){var o=this;return r&amp;lt;1/0?new _e(function(e,t){var n=setTimeout(function(){return t(new Y.Timeout(i))},r);o.then(e,t).finally(clearTimeout.bind(null,n))}):this}}),&amp;quot;undefined&amp;quot;!=typeof Symbol&amp;amp;&amp;amp;Symbol.toStringTag&amp;amp;&amp;amp;l(_e.prototype,Symbol.toStringTag,&amp;quot;Dexie.Promise&amp;quot;),ve.env=Ye(),r(_e,{all:function(){var o=D.apply(null,arguments).map(Ve);return new _e(function(n,r){0===o.length&amp;amp;&amp;amp;n([]);var i=o.length;o.forEach(function(e,t){return _e.resolve(e).then(function(e){o[t]=e,--i||n(o)},r)})})},resolve:function(n){return n instanceof _e?n:n&amp;amp;&amp;amp;&amp;quot;function&amp;quot;==typeof n.then?new _e(function(e,t){n.then(e,t)}):new _e(ae,!0,n)},reject:Te,race:function(){var e=D.apply(null,arguments).map(Ve);return new _e(function(t,n){e.map(function(e){return _e.resolve(e).then(t,n)})})},PSD:{get:function(){return me},set:function(e){return me=e}},totalEchoes:{get:function(){return Fe}},newPSD:Ne,usePSD:$e,scheduler:{get:function(){return le},set:function(e){le=e}},rejectionMapper:{get:function(){return ye},set:function(e){ye=e}},follow:function(i,n){return new _e(function(e,t){return Ne(function(n,r){var e=me;e.unhandleds=[],e.onunhandled=r,e.finalize=J(function(){var t,e=this;t=function(){0===e.unhandleds.length?n():r(e.unhandleds[0])},we.push(function e(){t(),we.splice(we.indexOf(e),1)}),++ge,le(function(){0==--ge&amp;amp;&amp;amp;Ce()},[])},e.finalize),i()},n,e,t)})}}),se&amp;amp;&amp;amp;(se.allSettled&amp;amp;&amp;amp;l(_e,&amp;quot;allSettled&amp;quot;,function(){var e=D.apply(null,arguments).map(Ve);return new _e(function(n){0===e.length&amp;amp;&amp;amp;n([]);var r=e.length,i=new Array(r);e.forEach(function(e,t){return _e.resolve(e).then(function(e){return i[t]={status:&amp;quot;fulfilled&amp;quot;,value:e}},function(e){return i[t]={status:&amp;quot;rejected&amp;quot;,reason:e}}).then(function(){return--r||n(i)})})})}),se.any&amp;amp;&amp;amp;&amp;quot;undefined&amp;quot;!=typeof AggregateError&amp;amp;&amp;amp;l(_e,&amp;quot;any&amp;quot;,function(){var e=D.apply(null,arguments).map(Ve);return new _e(function(n,r){0===e.length&amp;amp;&amp;amp;r(new AggregateError([]));var i=e.length,o=new Array(i);e.forEach(function(e,t){return _e.resolve(e).then(function(e){return n(e)},function(e){o[t]=e,--i||r(new AggregateError(o))})})})}),se.withResolvers&amp;amp;&amp;amp;(_e.withResolvers=se.withResolvers));var qe={awaits:0,echoes:0,id:0},De=0,Be=[],Re=0,Fe=0,Me=0;function Ne(e,t,n,r){var i=me,o=Object.create(i);o.parent=i,o.ref=0,o.global=!1,o.id=++Me,ve.env,o.env=ce?{Promise:_e,PromiseProp:{value:_e,configurable:!0,writable:!0},all:_e.all,race:_e.race,allSettled:_e.allSettled,any:_e.any,resolve:_e.resolve,reject:_e.reject}:{},t&amp;amp;&amp;amp;a(o,t),++i.ref,o.finalize=function(){--this.parent.ref||this.parent.finalize()};r=$e(o,e,n,r);return 0===o.ref&amp;amp;&amp;amp;o.finalize(),r}function Le(){return qe.id||(qe.id=++De),++qe.awaits,qe.echoes+=ue,qe.id}function Ue(){return!!qe.awaits&amp;amp;&amp;amp;(0==--qe.awaits&amp;amp;&amp;amp;(qe.id=0),qe.echoes=qe.awaits*ue,!0)}function Ve(e){return qe.echoes&amp;amp;&amp;amp;e&amp;amp;&amp;amp;e.constructor===se?(Le(),e.then(function(e){return Ue(),e},function(e){return Ue(),Xe(e)})):e}function ze(){var e=Be[Be.length-1];Be.pop(),We(e,!1)}function We(e,t){var n,r=me;(t?!qe.echoes||Re++&amp;amp;&amp;amp;e===me:!Re||--Re&amp;amp;&amp;amp;e===me)||queueMicrotask(t?function(e){++Fe,qe.echoes&amp;amp;&amp;amp;0!=--qe.echoes||(qe.echoes=qe.awaits=qe.id=0),Be.push(me),We(e,!0)}.bind(null,e):ze),e!==me&amp;amp;&amp;amp;(me=e,r===ve&amp;amp;&amp;amp;(ve.env=Ye()),ce&amp;amp;&amp;amp;(n=ve.env.Promise,t=e.env,(r.global||e.global)&amp;amp;&amp;amp;(Object.defineProperty(f,&amp;quot;Promise&amp;quot;,t.PromiseProp),n.all=t.all,n.race=t.race,n.resolve=t.resolve,n.reject=t.reject,t.allSettled&amp;amp;&amp;amp;(n.allSettled=t.allSettled),t.any&amp;amp;&amp;amp;(n.any=t.any))))}function Ye(){var e=f.Promise;return ce?{Promise:e,PromiseProp:Object.getOwnPropertyDescriptor(f,&amp;quot;Promise&amp;quot;),all:e.all,race:e.race,allSettled:e.allSettled,any:e.any,resolve:e.resolve,reject:e.reject}:{}}function $e(e,t,n,r,i){var o=me;try{return We(e,!0),t(n,r,i)}finally{We(o,!1)}}function Qe(t,n,r,i){return&amp;quot;function&amp;quot;!=typeof t?t:function(){var e=me;r&amp;amp;&amp;amp;Le(),We(n,!0);try{return t.apply(this,arguments)}finally{We(e,!1),i&amp;amp;&amp;amp;queueMicrotask(Ue)}}}function Ge(e){Promise===se&amp;amp;&amp;amp;0===qe.echoes?0===Re?e():enqueueNativeMicroTask(e):setTimeout(e,0)}-1===(&amp;quot;&amp;quot;+F).indexOf(&amp;quot;[native code]&amp;quot;)&amp;amp;&amp;amp;(Le=Ue=G);var Xe=_e.reject;var He=String.fromCharCode(65535),Je=&amp;quot;Invalid key provided. Keys must be of type string, number, Date or Array&amp;lt;string | number | Date&amp;gt;.&amp;quot;,Ze=&amp;quot;String expected.&amp;quot;,et=[],tt=&amp;quot;__dbnames&amp;quot;,nt=&amp;quot;readonly&amp;quot;,rt=&amp;quot;readwrite&amp;quot;;function it(e,t){return e?t?function(){return e.apply(this,arguments)&amp;amp;&amp;amp;t.apply(this,arguments)}:e:t}var ot={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function at(t){return&amp;quot;string&amp;quot;!=typeof t||/\\./.test(t)?function(e){return e}:function(e){return void 0===e[t]&amp;amp;&amp;amp;t in e&amp;amp;&amp;amp;delete(e=S(e))[t],e}}function ut(){throw Y.Type(&amp;quot;Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.&amp;quot;)}function st(e,t){try{var n=ct(e),r=ct(t);if(n!==r)return&amp;quot;Array&amp;quot;===n?1:&amp;quot;Array&amp;quot;===r?-1:&amp;quot;binary&amp;quot;===n?1:&amp;quot;binary&amp;quot;===r?-1:&amp;quot;string&amp;quot;===n?1:&amp;quot;string&amp;quot;===r?-1:&amp;quot;Date&amp;quot;===n?1:&amp;quot;Date&amp;quot;!==r?NaN:-1;switch(n){case&amp;quot;number&amp;quot;:case&amp;quot;Date&amp;quot;:case&amp;quot;string&amp;quot;:return t&amp;lt;e?1:e&amp;lt;t?-1:0;case&amp;quot;binary&amp;quot;:return function(e,t){for(var n=e.length,r=t.length,i=n&amp;lt;r?n:r,o=0;o&amp;lt;i;++o)if(e[o]!==t[o])return e[o]&amp;lt;t[o]?-1:1;return n===r?0:n&amp;lt;r?-1:1}(lt(e),lt(t));case&amp;quot;Array&amp;quot;:return function(e,t){for(var n=e.length,r=t.length,i=n&amp;lt;r?n:r,o=0;o&amp;lt;i;++o){var a=st(e[o],t[o]);if(0!==a)return a}return n===r?0:n&amp;lt;r?-1:1}(e,t)}}catch(e){}return NaN}function ct(e){var t=typeof e;if(&amp;quot;object&amp;quot;!=t)return t;if(ArrayBuffer.isView(e))return&amp;quot;binary&amp;quot;;e=A(e);return&amp;quot;ArrayBuffer&amp;quot;===e?&amp;quot;binary&amp;quot;:e}function lt(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(e)}function ft(t,n,r){var e=t.schema.yProps;return e?(n&amp;amp;&amp;amp;0&amp;lt;r.numFailures&amp;amp;&amp;amp;(n=n.filter(function(e,t){return!r.failures[t]})),Promise.all(e.map(function(e){e=e.updatesTable;return n?t.db.table(e).where(&amp;quot;k&amp;quot;).anyOf(n).delete():t.db.table(e).clear()})).then(function(){return r})):r}var ht=(dt.prototype.execute=function(e){var t=this[&amp;quot;@@propmod&amp;quot;];if(void 0!==t.add){var n=t.add;if(x(n))return i(i([],x(e)?e:[],!0),n,!0).sort();if(&amp;quot;number&amp;quot;==typeof n)return(Number(e)||0)+n;if(&amp;quot;bigint&amp;quot;==typeof n)try{return BigInt(e)+n}catch(e){return BigInt(0)+n}throw new TypeError(&amp;quot;Invalid term &amp;quot;.concat(n))}if(void 0!==t.remove){var r=t.remove;if(x(r))return x(e)?e.filter(function(e){return!r.includes(e)}).sort():[];if(&amp;quot;number&amp;quot;==typeof r)return Number(e)-r;if(&amp;quot;bigint&amp;quot;==typeof r)try{return BigInt(e)-r}catch(e){return BigInt(0)-r}throw new TypeError(&amp;quot;Invalid subtrahend &amp;quot;.concat(r))}n=null===(n=t.replacePrefix)||void 0===n?void 0:n[0];return n&amp;amp;&amp;amp;&amp;quot;string&amp;quot;==typeof e&amp;amp;&amp;amp;e.startsWith(n)?t.replacePrefix[1]+e.substring(n.length):e},dt);function dt(e){this[&amp;quot;@@propmod&amp;quot;]=e}function pt(e,t){for(var n=O(t),r=n.length,i=!1,o=0;o&amp;lt;r;++o){var a=n[o],u=t[a],s=g(e,a);u instanceof ht?(w(e,a,u.execute(s)),i=!0):s!==u&amp;amp;&amp;amp;(w(e,a,u),i=!0)}return i}var yt=(vt.prototype._trans=function(e,r,t){var n=this._tx||me.trans,i=this.name,o=ie&amp;amp;&amp;amp;&amp;quot;undefined&amp;quot;!=typeof console&amp;amp;&amp;amp;console.createTask&amp;amp;&amp;amp;console.createTask(&amp;quot;Dexie: &amp;quot;.concat(&amp;quot;readonly&amp;quot;===e?&amp;quot;read&amp;quot;:&amp;quot;write&amp;quot;,&amp;quot; &amp;quot;).concat(this.name));function a(e,t,n){if(!n.schema[i])throw new Y.NotFound(&amp;quot;Table &amp;quot;+i+&amp;quot; not part of transaction&amp;quot;);return r(n.idbtrans,n)}var u=je();try{var s=n&amp;amp;&amp;amp;n.db._novip===this.db._novip?n===me.trans?n._promise(e,a,t):Ne(function(){return n._promise(e,a,t)},{trans:n,transless:me.transless||me}):function t(n,r,i,o){if(n.idbdb&amp;amp;&amp;amp;(n._state.openComplete||me.letThrough||n._vip)){var a=n._createTransaction(r,i,n._dbSchema);try{a.create(),n._state.PR1398_maxLoop=3}catch(e){return e.name===z.InvalidState&amp;amp;&amp;amp;n.isOpen()&amp;amp;&amp;amp;0&amp;lt;--n._state.PR1398_maxLoop?(console.warn(&amp;quot;Dexie: Need to reopen db&amp;quot;),n.close({disableAutoOpen:!1}),n.open().then(function(){return t(n,r,i,o)})):Xe(e)}return a._promise(r,function(e,t){return Ne(function(){return me.trans=a,o(e,t,a)})}).then(function(e){if(&amp;quot;readwrite&amp;quot;===r)try{a.idbtrans.commit()}catch(e){}return&amp;quot;readonly&amp;quot;===r?e:a._completion.then(function(){return e})})}if(n._state.openComplete)return Xe(new Y.DatabaseClosed(n._state.dbOpenError));if(!n._state.isBeingOpened){if(!n._state.autoOpen)return Xe(new Y.DatabaseClosed);n.open().catch(G)}return n._state.dbReadyPromise.then(function(){return t(n,r,i,o)})}(this.db,e,[this.name],a);return o&amp;amp;&amp;amp;(s._consoleTask=o,s=s.catch(function(e){return console.trace(e),Xe(e)})),s}finally{u&amp;amp;&amp;amp;Ae()}},vt.prototype.get=function(t,e){var n=this;return t&amp;amp;&amp;amp;t.constructor===Object?this.where(t).first(e):null==t?Xe(new Y.Type(&amp;quot;Invalid argument to Table.get()&amp;quot;)):this._trans(&amp;quot;readonly&amp;quot;,function(e){return n.core.get({trans:e,key:t}).then(function(e){return n.hook.reading.fire(e)})}).then(e)},vt.prototype.where=function(o){if(&amp;quot;string&amp;quot;==typeof o)return new this.db.WhereClause(this,o);if(x(o))return new this.db.WhereClause(this,&amp;quot;[&amp;quot;.concat(o.join(&amp;quot;+&amp;quot;),&amp;quot;]&amp;quot;));var n=O(o);if(1===n.length)return this.where(n[0]).equals(o[n[0]]);var e=this.schema.indexes.concat(this.schema.primKey).filter(function(t){if(t.compound&amp;amp;&amp;amp;n.every(function(e){return 0&amp;lt;=t.keyPath.indexOf(e)})){for(var e=0;e&amp;lt;n.length;++e)if(-1===n.indexOf(t.keyPath[e]))return!1;return!0}return!1}).sort(function(e,t){return e.keyPath.length-t.keyPath.length})[0];if(e&amp;amp;&amp;amp;this.db._maxKey!==He){var t=e.keyPath.slice(0,n.length);return this.where(t).equals(t.map(function(e){return o[e]}))}!e&amp;amp;&amp;amp;ie&amp;amp;&amp;amp;console.warn(&amp;quot;The query &amp;quot;.concat(JSON.stringify(o),&amp;quot; on &amp;quot;).concat(this.name,&amp;quot; would benefit from a &amp;quot;)+&amp;quot;compound index [&amp;quot;.concat(n.join(&amp;quot;+&amp;quot;),&amp;quot;]&amp;quot;));var a=this.schema.idxByName;function u(e,t){return 0===st(e,t)}var r=n.reduce(function(e,t){var n=e[0],r=e[1],e=a[t],i=o[t];return[n||e,n||!e?it(r,e&amp;amp;&amp;amp;e.multi?function(e){e=g(e,t);return x(e)&amp;amp;&amp;amp;e.some(function(e){return u(i,e)})}:function(e){return u(i,g(e,t))}):r]},[null,null]),t=r[0],r=r[1];return t?this.where(t.name).equals(o[t.keyPath]).filter(r):e?this.filter(r):this.where(n).equals(&amp;quot;&amp;quot;)},vt.prototype.filter=function(e){return this.toCollection().and(e)},vt.prototype.count=function(e){return this.toCollection().count(e)},vt.prototype.offset=function(e){return this.toCollection().offset(e)},vt.prototype.limit=function(e){return this.toCollection().limit(e)},vt.prototype.each=function(e){return this.toCollection().each(e)},vt.prototype.toArray=function(e){return this.toCollection().toArray(e)},vt.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},vt.prototype.orderBy=function(e){return new this.db.Collection(new this.db.WhereClause(this,x(e)?&amp;quot;[&amp;quot;.concat(e.join(&amp;quot;+&amp;quot;),&amp;quot;]&amp;quot;):e))},vt.prototype.reverse=function(){return this.toCollection().reverse()},vt.prototype.mapToClass=function(r){var e,t=this.db,n=this.name;function i(){return null!==e&amp;amp;&amp;amp;e.apply(this,arguments)||this}(this.schema.mappedClass=r).prototype instanceof ut&amp;amp;&amp;amp;(function(e,t){if(&amp;quot;function&amp;quot;!=typeof t&amp;amp;&amp;amp;null!==t)throw new TypeError(&amp;quot;Class extends value &amp;quot;+String(t)+&amp;quot; is not a constructor or null&amp;quot;);function n(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(i,e=r),Object.defineProperty(i.prototype,&amp;quot;db&amp;quot;,{get:function(){return t},enumerable:!1,configurable:!0}),i.prototype.table=function(){return n},r=i);for(var o=new Set,a=r.prototype;a;a=c(a))Object.getOwnPropertyNames(a).forEach(function(e){return o.add(e)});function u(e){if(!e)return e;var t,n=Object.create(r.prototype);for(t in e)if(!o.has(t))try{n[t]=e[t]}catch(e){}return n}return this.schema.readHook&amp;amp;&amp;amp;this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=u,this.hook(&amp;quot;reading&amp;quot;,u),r},vt.prototype.defineClass=function(){return this.mapToClass(function(e){a(this,e)})},vt.prototype.add=function(t,n){var r=this,e=this.schema.primKey,i=e.auto,o=e.keyPath,a=t;return o&amp;amp;&amp;amp;i&amp;amp;&amp;amp;(a=at(o)(t)),this._trans(&amp;quot;readwrite&amp;quot;,function(e){return r.core.mutate({trans:e,type:&amp;quot;add&amp;quot;,keys:null!=n?[n]:null,values:[a]})}).then(function(e){return e.numFailures?_e.reject(e.failures[0]):e.lastResult}).then(function(e){if(o)try{w(t,o,e)}catch(e){}return e})},vt.prototype.upsert=function(r,i){var o=this,a=this.schema.primKey.keyPath;return this._trans(&amp;quot;readwrite&amp;quot;,function(n){return o.core.get({trans:n,key:r}).then(function(t){var e=null!=t?t:{};return pt(e,i),a&amp;amp;&amp;amp;w(e,a,r),o.core.mutate({trans:n,type:&amp;quot;put&amp;quot;,values:[e],keys:[r],upsert:!0,updates:{keys:[r],changeSpecs:[i]}}).then(function(e){return e.numFailures?_e.reject(e.failures[0]):!!t})})})},vt.prototype.update=function(e,t){if(&amp;quot;object&amp;quot;!=typeof e||x(e))return this.where(&amp;quot;:id&amp;quot;).equals(e).modify(t);e=g(e,this.schema.primKey.keyPath);return void 0===e?Xe(new Y.InvalidArgument(&amp;quot;Given object does not contain its primary key&amp;quot;)):this.where(&amp;quot;:id&amp;quot;).equals(e).modify(t)},vt.prototype.put=function(t,n){var r=this,e=this.schema.primKey,i=e.auto,o=e.keyPath,a=t;return o&amp;amp;&amp;amp;i&amp;amp;&amp;amp;(a=at(o)(t)),this._trans(&amp;quot;readwrite&amp;quot;,function(e){return r.core.mutate({trans:e,type:&amp;quot;put&amp;quot;,values:[a],keys:null!=n?[n]:null})}).then(function(e){return e.numFailures?_e.reject(e.failures[0]):e.lastResult}).then(function(e){if(o)try{w(t,o,e)}catch(e){}return e})},vt.prototype.delete=function(t){var n=this;return this._trans(&amp;quot;readwrite&amp;quot;,function(e){return n.core.mutate({trans:e,type:&amp;quot;delete&amp;quot;,keys:[t]}).then(function(e){return ft(n,[t],e)}).then(function(e){return e.numFailures?_e.reject(e.failures[0]):void 0})})},vt.prototype.clear=function(){var t=this;return this._trans(&amp;quot;readwrite&amp;quot;,function(e){return t.core.mutate({trans:e,type:&amp;quot;deleteRange&amp;quot;,range:ot}).then(function(e){return ft(t,null,e)})}).then(function(e){return e.numFailures?_e.reject(e.failures[0]):void 0})},vt.prototype.bulkGet=function(t){var n=this;return this._trans(&amp;quot;readonly&amp;quot;,function(e){return n.core.getMany({keys:t,trans:e}).then(function(e){return e.map(function(e){return n.hook.reading.fire(e)})})})},vt.prototype.bulkAdd=function(r,e,t){var o=this,a=Array.isArray(e)?e:void 0,u=(t=t||(a?void 0:e))?t.allKeys:void 0;return this._trans(&amp;quot;readwrite&amp;quot;,function(e){var t=o.schema.primKey,n=t.auto,t=t.keyPath;if(t&amp;amp;&amp;amp;a)throw new Y.InvalidArgument(&amp;quot;bulkAdd(): keys argument invalid on tables with inbound keys&amp;quot;);if(a&amp;amp;&amp;amp;a.length!==r.length)throw new Y.InvalidArgument(&amp;quot;Arguments objects and keys must have the same length&amp;quot;);var i=r.length,t=t&amp;amp;&amp;amp;n?r.map(at(t)):r;return o.core.mutate({trans:e,type:&amp;quot;add&amp;quot;,keys:a,values:t,wantResults:u}).then(function(e){var t=e.numFailures,n=e.results,r=e.lastResult,e=e.failures;if(0===t)return u?n:r;throw new V(&amp;quot;&amp;quot;.concat(o.name,&amp;quot;.bulkAdd(): &amp;quot;).concat(t,&amp;quot; of &amp;quot;).concat(i,&amp;quot; operations failed&amp;quot;),e)})})},vt.prototype.bulkPut=function(r,e,t){var o=this,a=Array.isArray(e)?e:void 0,u=(t=t||(a?void 0:e))?t.allKeys:void 0;return this._trans(&amp;quot;readwrite&amp;quot;,function(e){var t=o.schema.primKey,n=t.auto,t=t.keyPath;if(t&amp;amp;&amp;amp;a)throw new Y.InvalidArgument(&amp;quot;bulkPut(): keys argument invalid on tables with inbound keys&amp;quot;);if(a&amp;amp;&amp;amp;a.length!==r.length)throw new Y.InvalidArgument(&amp;quot;Arguments objects and keys must have the same length&amp;quot;);var i=r.length,t=t&amp;amp;&amp;amp;n?r.map(at(t)):r;return o.core.mutate({trans:e,type:&amp;quot;put&amp;quot;,keys:a,values:t,wantResults:u}).then(function(e){var t=e.numFailures,n=e.results,r=e.lastResult,e=e.failures;if(0===t)return u?n:r;throw new V(&amp;quot;&amp;quot;.concat(o.name,&amp;quot;.bulkPut(): &amp;quot;).concat(t,&amp;quot; of &amp;quot;).concat(i,&amp;quot; operations failed&amp;quot;),e)})})},vt.prototype.bulkUpdate=function(t){var h=this,n=this.core,r=t.map(function(e){return e.key}),i=t.map(function(e){return e.changes}),d=[];return this._trans(&amp;quot;readwrite&amp;quot;,function(e){return n.getMany({trans:e,keys:r,cache:&amp;quot;clone&amp;quot;}).then(function(c){var l=[],f=[];t.forEach(function(e,t){var n=e.key,r=e.changes,i=c[t];if(i){for(var o=0,a=Object.keys(r);o&amp;lt;a.length;o++){var u=a[o],s=r[u];if(u===h.schema.primKey.keyPath){if(0!==st(s,n))throw new Y.Constraint(&amp;quot;Cannot update primary key in bulkUpdate()&amp;quot;)}else w(i,u,s)}d.push(t),l.push(n),f.push(i)}});var s=l.length;return n.mutate({trans:e,type:&amp;quot;put&amp;quot;,keys:l,values:f,updates:{keys:r,changeSpecs:i}}).then(function(e){var t=e.numFailures,n=e.failures;if(0===t)return s;for(var r=0,i=Object.keys(n);r&amp;lt;i.length;r++){var o,a=i[r],u=d[Number(a)];null!=u&amp;amp;&amp;amp;(o=n[a],delete n[a],n[u]=o)}throw new V(&amp;quot;&amp;quot;.concat(h.name,&amp;quot;.bulkUpdate(): &amp;quot;).concat(t,&amp;quot; of &amp;quot;).concat(s,&amp;quot; operations failed&amp;quot;),n)})})})},vt.prototype.bulkDelete=function(t){var r=this,i=t.length;return this._trans(&amp;quot;readwrite&amp;quot;,function(e){return r.core.mutate({trans:e,type:&amp;quot;delete&amp;quot;,keys:t}).then(function(e){return ft(r,t,e)})}).then(function(e){var t=e.numFailures,n=e.lastResult,e=e.failures;if(0===t)return n;throw new V(&amp;quot;&amp;quot;.concat(r.name,&amp;quot;.bulkDelete(): &amp;quot;).concat(t,&amp;quot; of &amp;quot;).concat(i,&amp;quot; operations failed&amp;quot;),e)})},vt);function vt(){}function mt(i){function t(e,t){if(t){for(var n=arguments.length,r=new Array(n-1);--n;)r[n-1]=arguments[n];return a[e].subscribe.apply(null,r),i}if(&amp;quot;string&amp;quot;==typeof e)return a[e]}var a={};t.addEventType=u;for(var e=1,n=arguments.length;e&amp;lt;n;++e)u(arguments[e]);return t;function u(e,n,r){if(&amp;quot;object&amp;quot;!=typeof e){var i;n=n||ne;var o={subscribers:[],fire:r=r||G,subscribe:function(e){-1===o.subscribers.indexOf(e)&amp;amp;&amp;amp;(o.subscribers.push(e),o.fire=n(o.fire,e))},unsubscribe:function(t){o.subscribers=o.subscribers.filter(function(e){return e!==t}),o.fire=o.subscribers.reduce(n,r)}};return a[e]=t[e]=o}O(i=e).forEach(function(e){var t=i[e];if(x(t))u(e,i[e][0],i[e][1]);else{if(&amp;quot;asap&amp;quot;!==t)throw new Y.InvalidArgument(&amp;quot;Invalid event config&amp;quot;);var n=u(e,X,function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];n.subscribers.forEach(function(e){v(function(){e.apply(null,t)})})})}})}}function bt(e,t){return o(t).from({prototype:e}),t}function gt(e,t){return!(e.filter||e.algorithm||e.or)&amp;amp;&amp;amp;(t?e.justLimit:!e.replayFilter)}function wt(e,t){e.filter=it(e.filter,t)}function _t(e,t,n){var r=e.replayFilter;e.replayFilter=r?function(){return it(r(),t())}:t,e.justLimit=n&amp;amp;&amp;amp;!r}function xt(e,t){if(e.isPrimKey)return t.primaryKey;var n=t.getIndexByKeyPath(e.index);if(!n)throw new Y.Schema(&amp;quot;KeyPath &amp;quot;+e.index+&amp;quot; on object store &amp;quot;+t.name+&amp;quot; is not indexed&amp;quot;);return n}function kt(e,t,n){var r=xt(e,t.schema);return t.openCursor({trans:n,values:!e.keysOnly,reverse:&amp;quot;prev&amp;quot;===e.dir,unique:!!e.unique,query:{index:r,range:e.range}})}function Ot(e,o,t,n){var a=e.replayFilter?it(e.filter,e.replayFilter()):e.filter;if(e.or){var u={},r=function(e,t,n){var r,i;a&amp;amp;&amp;amp;!a(t,n,function(e){return t.stop(e)},function(e){return t.fail(e)})||(&amp;quot;[object ArrayBuffer]&amp;quot;===(i=&amp;quot;&amp;quot;+(r=t.primaryKey))&amp;amp;&amp;amp;(i=&amp;quot;&amp;quot;+new Uint8Array(r)),m(u,i)||(u[i]=!0,o(e,t,n)))};return Promise.all([e.or._iterate(r,t),Pt(kt(e,n,t),e.algorithm,r,!e.keysOnly&amp;amp;&amp;amp;e.valueMapper)])}return Pt(kt(e,n,t),it(e.algorithm,a),o,!e.keysOnly&amp;amp;&amp;amp;e.valueMapper)}function Pt(e,r,i,o){var a=Ie(o?function(e,t,n){return i(o(e),t,n)}:i);return e.then(function(n){if(n)return n.start(function(){var t=function(){return n.continue()};r&amp;amp;&amp;amp;!r(n,function(e){return t=e},function(e){n.stop(e),t=G},function(e){n.fail(e),t=G})||a(n.value,n,function(e){return t=e}),t()})})}var Kt=(Et.prototype._read=function(e,t){var n=this._ctx;return n.error?n.table._trans(null,Xe.bind(null,n.error)):n.table._trans(&amp;quot;readonly&amp;quot;,e).then(t)},Et.prototype._write=function(e){var t=this._ctx;return t.error?t.table._trans(null,Xe.bind(null,t.error)):t.table._trans(&amp;quot;readwrite&amp;quot;,e,&amp;quot;locked&amp;quot;)},Et.prototype._addAlgorithm=function(e){var t=this._ctx;t.algorithm=it(t.algorithm,e)},Et.prototype._iterate=function(e,t){return Ot(this._ctx,e,t,this._ctx.table.core)},Et.prototype.clone=function(e){var t=Object.create(this.constructor.prototype),n=Object.create(this._ctx);return e&amp;amp;&amp;amp;a(n,e),t._ctx=n,t},Et.prototype.raw=function(){return this._ctx.valueMapper=null,this},Et.prototype.each=function(t){var n=this._ctx;return this._read(function(e){return Ot(n,t,e,n.table.core)})},Et.prototype.count=function(e){var i=this;return this._read(function(e){var t=i._ctx,n=t.table.core;if(gt(t,!0))return n.count({trans:e,query:{index:xt(t,n.schema),range:t.range}}).then(function(e){return Math.min(e,t.limit)});var r=0;return Ot(t,function(){return++r,!1},e,n).then(function(){return r})}).then(e)},Et.prototype.sortBy=function(e,t){var n=e.split(&amp;quot;.&amp;quot;).reverse(),r=n[0],i=n.length-1;function o(e,t){return t?o(e[n[t]],t-1):e[r]}var a=&amp;quot;next&amp;quot;===this._ctx.dir?1:-1;function u(e,t){return st(o(e,i),o(t,i))*a}return this.toArray(function(e){return e.sort(u)}).then(t)},Et.prototype.toArray=function(e){var o=this;return this._read(function(e){var t=o._ctx;if(&amp;quot;next&amp;quot;===t.dir&amp;amp;&amp;amp;gt(t,!0)&amp;amp;&amp;amp;0&amp;lt;t.limit){var n=t.valueMapper,r=xt(t,t.table.core.schema);return t.table.core.query({trans:e,limit:t.limit,values:!0,query:{index:r,range:t.range}}).then(function(e){e=e.result;return n?e.map(n):e})}var i=[];return Ot(t,function(e){return i.push(e)},e,t.table.core).then(function(){return i})},e)},Et.prototype.offset=function(t){var e=this._ctx;return t&amp;lt;=0||(e.offset+=t,gt(e)?_t(e,function(){var n=t;return function(e,t){return 0===n||(1===n?--n:t(function(){e.advance(n),n=0}),!1)}}):_t(e,function(){var e=t;return function(){return--e&amp;lt;0}})),this},Et.prototype.limit=function(e){return this._ctx.limit=Math.min(this._ctx.limit,e),_t(this._ctx,function(){var r=e;return function(e,t,n){return--r&amp;lt;=0&amp;amp;&amp;amp;t(n),0&amp;lt;=r}},!0),this},Et.prototype.until=function(r,i){return wt(this._ctx,function(e,t,n){return!r(e.value)||(t(n),i)}),this},Et.prototype.first=function(e){return this.limit(1).toArray(function(e){return e[0]}).then(e)},Et.prototype.last=function(e){return this.reverse().first(e)},Et.prototype.filter=function(t){var e;return wt(this._ctx,function(e){return t(e.value)}),(e=this._ctx).isMatch=it(e.isMatch,t),this},Et.prototype.and=function(e){return this.filter(e)},Et.prototype.or=function(e){return new this.db.WhereClause(this._ctx.table,e,this)},Et.prototype.reverse=function(){return this._ctx.dir=&amp;quot;prev&amp;quot;===this._ctx.dir?&amp;quot;next&amp;quot;:&amp;quot;prev&amp;quot;,this._ondirectionchange&amp;amp;&amp;amp;this._ondirectionchange(this._ctx.dir),this},Et.prototype.desc=function(){return this.reverse()},Et.prototype.eachKey=function(n){var e=this._ctx;return e.keysOnly=!e.isMatch,this.each(function(e,t){n(t.key,t)})},Et.prototype.eachUniqueKey=function(e){return this._ctx.unique=&amp;quot;unique&amp;quot;,this.eachKey(e)},Et.prototype.eachPrimaryKey=function(n){var e=this._ctx;return e.keysOnly=!e.isMatch,this.each(function(e,t){n(t.primaryKey,t)})},Et.prototype.keys=function(e){var t=this._ctx;t.keysOnly=!t.isMatch;var n=[];return this.each(function(e,t){n.push(t.key)}).then(function(){return n}).then(e)},Et.prototype.primaryKeys=function(e){var n=this._ctx;if(&amp;quot;next&amp;quot;===n.dir&amp;amp;&amp;amp;gt(n,!0)&amp;amp;&amp;amp;0&amp;lt;n.limit)return this._read(function(e){var t=xt(n,n.table.core.schema);return n.table.core.query({trans:e,values:!1,limit:n.limit,query:{index:t,range:n.range}})}).then(function(e){return e.result}).then(e);n.keysOnly=!n.isMatch;var r=[];return this.each(function(e,t){r.push(t.primaryKey)}).then(function(){return r}).then(e)},Et.prototype.uniqueKeys=function(e){return this._ctx.unique=&amp;quot;unique&amp;quot;,this.keys(e)},Et.prototype.firstKey=function(e){return this.limit(1).keys(function(e){return e[0]}).then(e)},Et.prototype.lastKey=function(e){return this.reverse().firstKey(e)},Et.prototype.distinct=function(){var e=this._ctx,e=e.index&amp;amp;&amp;amp;e.table.schema.idxByName[e.index];if(!e||!e.multi)return this;var n={};return wt(this._ctx,function(e){var t=e.primaryKey.toString(),e=m(n,t);return n[t]=!0,!e}),this},Et.prototype.modify=function(x){var n=this,k=this._ctx;return this._write(function(p){var y=&amp;quot;function&amp;quot;==typeof x?x:function(e){return pt(e,x)},v=k.table.core,e=v.schema.primaryKey,m=e.outbound,b=e.extractKey,g=200,e=n.db._options.modifyChunkSize;e&amp;amp;&amp;amp;(g=&amp;quot;object&amp;quot;==typeof e?e[v.name]||e[&amp;quot;*&amp;quot;]||200:e);function w(e,t){var n=t.failures,t=t.numFailures;u+=e-t;for(var r=0,i=O(n);r&amp;lt;i.length;r++){var o=i[r];a.push(n[o])}}var a=[],u=0,t=[],_=x===St;return n.clone().primaryKeys().then(function(f){function h(s){var c=Math.min(g,f.length-s),l=f.slice(s,s+c);return(_?Promise.resolve([]):v.getMany({trans:p,keys:l,cache:&amp;quot;immutable&amp;quot;})).then(function(e){var n=[],t=[],r=m?[]:null,i=_?l:[];if(!_)for(var o=0;o&amp;lt;c;++o){var a=e[o],u={value:S(a),primKey:f[s+o]};!1!==y.call(u,u.value,u)&amp;amp;&amp;amp;(null==u.value?i.push(f[s+o]):m||0===st(b(a),b(u.value))?(t.push(u.value),m&amp;amp;&amp;amp;r.push(f[s+o])):(i.push(f[s+o]),n.push(u.value)))}return Promise.resolve(0&amp;lt;n.length&amp;amp;&amp;amp;v.mutate({trans:p,type:&amp;quot;add&amp;quot;,values:n}).then(function(e){for(var t in e.failures)i.splice(parseInt(t),1);w(n.length,e)})).then(function(){return(0&amp;lt;t.length||d&amp;amp;&amp;amp;&amp;quot;object&amp;quot;==typeof x)&amp;amp;&amp;amp;v.mutate({trans:p,type:&amp;quot;put&amp;quot;,keys:r,values:t,criteria:d,changeSpec:&amp;quot;function&amp;quot;!=typeof x&amp;amp;&amp;amp;x,isAdditionalChunk:0&amp;lt;s}).then(function(e){return w(t.length,e)})}).then(function(){return(0&amp;lt;i.length||d&amp;amp;&amp;amp;_)&amp;amp;&amp;amp;v.mutate({trans:p,type:&amp;quot;delete&amp;quot;,keys:i,criteria:d,isAdditionalChunk:0&amp;lt;s}).then(function(e){return ft(k.table,i,e)}).then(function(e){return w(i.length,e)})}).then(function(){return f.length&amp;gt;s+c&amp;amp;&amp;amp;h(s+g)})})}var d=gt(k)&amp;amp;&amp;amp;k.limit===1/0&amp;amp;&amp;amp;(&amp;quot;function&amp;quot;!=typeof x||_)&amp;amp;&amp;amp;{index:k.index,range:k.range};return h(0).then(function(){if(0&amp;lt;a.length)throw new U(&amp;quot;Error modifying one or more objects&amp;quot;,a,u,t);return f.length})})})},Et.prototype.delete=function(){var i=this._ctx,n=i.range;return!gt(i)||i.table.schema.yProps||!i.isPrimKey&amp;amp;&amp;amp;3!==n.type?this.modify(St):this._write(function(e){var t=i.table.core.schema.primaryKey,r=n;return i.table.core.count({trans:e,query:{index:t,range:r}}).then(function(n){return i.table.core.mutate({trans:e,type:&amp;quot;deleteRange&amp;quot;,range:r}).then(function(e){var t=e.failures,e=e.numFailures;if(e)throw new U(&amp;quot;Could not delete some values&amp;quot;,Object.keys(t).map(function(e){return t[e]}),n-e);return n-e})})})},Et);function Et(){}var St=function(e,t){return t.value=null};function jt(e,t){return e&amp;lt;t?-1:e===t?0:1}function At(e,t){return t&amp;lt;e?-1:e===t?0:1}function Ct(e,t,n){e=e instanceof Bt?new e.Collection(e):e;return e._ctx.error=new(n||TypeError)(t),e}function Tt(e){return new e.Collection(e,function(){return Dt(&amp;quot;&amp;quot;)}).limit(0)}function It(e,s,n,r){var i,c,l,f,h,d,p,y=n.length;if(!n.every(function(e){return&amp;quot;string&amp;quot;==typeof e}))return Ct(e,Ze);function t(e){i=&amp;quot;next&amp;quot;===e?function(e){return e.toUpperCase()}:function(e){return e.toLowerCase()},c=&amp;quot;next&amp;quot;===e?function(e){return e.toLowerCase()}:function(e){return e.toUpperCase()},l=&amp;quot;next&amp;quot;===e?jt:At;var t=n.map(function(e){return{lower:c(e),upper:i(e)}}).sort(function(e,t){return l(e.lower,t.lower)});f=t.map(function(e){return e.upper}),h=t.map(function(e){return e.lower}),p=&amp;quot;next&amp;quot;===(d=e)?&amp;quot;&amp;quot;:r}t(&amp;quot;next&amp;quot;);e=new e.Collection(e,function(){return qt(f[0],h[y-1]+r)});e._ondirectionchange=function(e){t(e)};var v=0;return e._addAlgorithm(function(e,t,n){var r=e.key;if(&amp;quot;string&amp;quot;!=typeof r)return!1;var i=c(r);if(s(i,h,v))return!0;for(var o=null,a=v;a&amp;lt;y;++a){var u=function(e,t,n,r,i,o){for(var a=Math.min(e.length,r.length),u=-1,s=0;s&amp;lt;a;++s){var c=t[s];if(c!==r[s])return i(e[s],n[s])&amp;lt;0?e.substr(0,s)+n[s]+n.substr(s+1):i(e[s],r[s])&amp;lt;0?e.substr(0,s)+r[s]+n.substr(s+1):0&amp;lt;=u?e.substr(0,u)+t[u]+n.substr(u+1):null;i(e[s],c)&amp;lt;0&amp;amp;&amp;amp;(u=s)}return a&amp;lt;r.length&amp;amp;&amp;amp;&amp;quot;next&amp;quot;===o?e+n.substr(e.length):a&amp;lt;e.length&amp;amp;&amp;amp;&amp;quot;prev&amp;quot;===o?e.substr(0,n.length):u&amp;lt;0?null:e.substr(0,u)+r[u]+n.substr(u+1)}(r,i,f[a],h[a],l,d);null===u&amp;amp;&amp;amp;null===o?v=a+1:(null===o||0&amp;lt;l(o,u))&amp;amp;&amp;amp;(o=u)}return t(null!==o?function(){e.continue(o+p)}:n),!1}),e}function qt(e,t,n,r){return{type:2,lower:e,upper:t,lowerOpen:n,upperOpen:r}}function Dt(e){return{type:1,lower:e,upper:e}}var Bt=(Object.defineProperty(Rt.prototype,&amp;quot;Collection&amp;quot;,{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),Rt.prototype.between=function(e,t,n,r){n=!1!==n,r=!0===r;try{return 0&amp;lt;this._cmp(e,t)||0===this._cmp(e,t)&amp;amp;&amp;amp;(n||r)&amp;amp;&amp;amp;(!n||!r)?Tt(this):new this.Collection(this,function(){return qt(e,t,!n,!r)})}catch(e){return Ct(this,Je)}},Rt.prototype.equals=function(e){return null==e?Ct(this,Je):new this.Collection(this,function(){return Dt(e)})},Rt.prototype.above=function(e){return null==e?Ct(this,Je):new this.Collection(this,function(){return qt(e,void 0,!0)})},Rt.prototype.aboveOrEqual=function(e){return null==e?Ct(this,Je):new this.Collection(this,function(){return qt(e,void 0,!1)})},Rt.prototype.below=function(e){return null==e?Ct(this,Je):new this.Collection(this,function(){return qt(void 0,e,!1,!0)})},Rt.prototype.belowOrEqual=function(e){return null==e?Ct(this,Je):new this.Collection(this,function(){return qt(void 0,e)})},Rt.prototype.startsWith=function(e){return&amp;quot;string&amp;quot;!=typeof e?Ct(this,Ze):this.between(e,e+He,!0,!0)},Rt.prototype.startsWithIgnoreCase=function(e){return&amp;quot;&amp;quot;===e?this.startsWith(e):It(this,function(e,t){return 0===e.indexOf(t[0])},[e],He)},Rt.prototype.equalsIgnoreCase=function(e){return It(this,function(e,t){return e===t[0]},[e],&amp;quot;&amp;quot;)},Rt.prototype.anyOfIgnoreCase=function(){var e=D.apply(q,arguments);return 0===e.length?Tt(this):It(this,function(e,t){return-1!==t.indexOf(e)},e,&amp;quot;&amp;quot;)},Rt.prototype.startsWithAnyOfIgnoreCase=function(){var e=D.apply(q,arguments);return 0===e.length?Tt(this):It(this,function(t,e){return e.some(function(e){return 0===t.indexOf(e)})},e,He)},Rt.prototype.anyOf=function(){var t=this,i=D.apply(q,arguments),o=this._cmp;try{i.sort(o)}catch(e){return Ct(this,Je)}if(0===i.length)return Tt(this);var e=new this.Collection(this,function(){return qt(i[0],i[i.length-1])});e._ondirectionchange=function(e){o=&amp;quot;next&amp;quot;===e?t._ascending:t._descending,i.sort(o)};var a=0;return e._addAlgorithm(function(e,t,n){for(var r=e.key;0&amp;lt;o(r,i[a]);)if(++a===i.length)return t(n),!1;return 0===o(r,i[a])||(t(function(){e.continue(i[a])}),!1)}),e},Rt.prototype.notEqual=function(e){return this.inAnyRange([[-1/0,e],[e,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},Rt.prototype.noneOf=function(){var e=D.apply(q,arguments);if(0===e.length)return new this.Collection(this);try{e.sort(this._ascending)}catch(e){return Ct(this,Je)}var t=e.reduce(function(e,t){return e?e.concat([[e[e.length-1][1],t]]):[[-1/0,t]]},null);return t.push([e[e.length-1],this.db._maxKey]),this.inAnyRange(t,{includeLowers:!1,includeUppers:!1})},Rt.prototype.inAnyRange=function(e,t){var o=this,a=this._cmp,u=this._ascending,n=this._descending,s=this._min,c=this._max;if(0===e.length)return Tt(this);if(!e.every(function(e){return void 0!==e[0]&amp;amp;&amp;amp;void 0!==e[1]&amp;amp;&amp;amp;u(e[0],e[1])&amp;lt;=0}))return Ct(this,&amp;quot;First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower&amp;quot;,Y.InvalidArgument);var r=!t||!1!==t.includeLowers,i=t&amp;amp;&amp;amp;!0===t.includeUppers;var l,f=u;function h(e,t){return f(e[0],t[0])}try{(l=e.reduce(function(e,t){for(var n=0,r=e.length;n&amp;lt;r;++n){var i=e[n];if(a(t[0],i[1])&amp;lt;0&amp;amp;&amp;amp;0&amp;lt;a(t[1],i[0])){i[0]=s(i[0],t[0]),i[1]=c(i[1],t[1]);break}}return n===r&amp;amp;&amp;amp;e.push(t),e},[])).sort(h)}catch(e){return Ct(this,Je)}var d=0,p=i?function(e){return 0&amp;lt;u(e,l[d][1])}:function(e){return 0&amp;lt;=u(e,l[d][1])},y=r?function(e){return 0&amp;lt;n(e,l[d][0])}:function(e){return 0&amp;lt;=n(e,l[d][0])};var v=p,e=new this.Collection(this,function(){return qt(l[0][0],l[l.length-1][1],!r,!i)});return e._ondirectionchange=function(e){f=&amp;quot;next&amp;quot;===e?(v=p,u):(v=y,n),l.sort(h)},e._addAlgorithm(function(e,t,n){for(var r,i=e.key;v(i);)if(++d===l.length)return t(n),!1;return!p(r=i)&amp;amp;&amp;amp;!y(r)||(0===o._cmp(i,l[d][1])||0===o._cmp(i,l[d][0])||t(function(){f===u?e.continue(l[d][0]):e.continue(l[d][1])}),!1)}),e},Rt.prototype.startsWithAnyOf=function(){var e=D.apply(q,arguments);return e.every(function(e){return&amp;quot;string&amp;quot;==typeof e})?0===e.length?Tt(this):this.inAnyRange(e.map(function(e){return[e,e+He]})):Ct(this,&amp;quot;startsWithAnyOf() only works with strings&amp;quot;)},Rt);function Rt(){}function Ft(t){return Ie(function(e){return Mt(e),t(e.target.error),!1})}function Mt(e){e.stopPropagation&amp;amp;&amp;amp;e.stopPropagation(),e.preventDefault&amp;amp;&amp;amp;e.preventDefault()}var Nt=&amp;quot;storagemutated&amp;quot;,Lt=&amp;quot;x-storagemutated-1&amp;quot;,Ut=mt(null,Nt),Vt=(zt.prototype._lock=function(){return y(!me.global),++this._reculock,1!==this._reculock||me.global||(me.lockOwnerFor=this),this},zt.prototype._unlock=function(){if(y(!me.global),0==--this._reculock)for(me.global||(me.lockOwnerFor=null);0&amp;lt;this._blockedFuncs.length&amp;amp;&amp;amp;!this._locked();){var e=this._blockedFuncs.shift();try{$e(e[1],e[0])}catch(e){}}return this},zt.prototype._locked=function(){return this._reculock&amp;amp;&amp;amp;me.lockOwnerFor!==this},zt.prototype.create=function(t){var n=this;if(!this.mode)return this;var e=this.db.idbdb,r=this.db._state.dbOpenError;if(y(!this.idbtrans),!t&amp;amp;&amp;amp;!e)switch(r&amp;amp;&amp;amp;r.name){case&amp;quot;DatabaseClosedError&amp;quot;:throw new Y.DatabaseClosed(r);case&amp;quot;MissingAPIError&amp;quot;:throw new Y.MissingAPI(r.message,r);default:throw new Y.OpenFailed(r)}if(!this.active)throw new Y.TransactionInactive;return y(null===this._completion._state),(t=this.idbtrans=t||(this.db.core||e).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=Ie(function(e){Mt(e),n._reject(t.error)}),t.onabort=Ie(function(e){Mt(e),n.active&amp;amp;&amp;amp;n._reject(new Y.Abort(t.error)),n.active=!1,n.on(&amp;quot;abort&amp;quot;).fire(e)}),t.oncomplete=Ie(function(){n.active=!1,n._resolve(),&amp;quot;mutatedParts&amp;quot;in t&amp;amp;&amp;amp;Ut.storagemutated.fire(t.mutatedParts)}),this},zt.prototype._promise=function(n,r,i){var o=this;if(&amp;quot;readwrite&amp;quot;===n&amp;amp;&amp;amp;&amp;quot;readwrite&amp;quot;!==this.mode)return Xe(new Y.ReadOnly(&amp;quot;Transaction is readonly&amp;quot;));if(!this.active)return Xe(new Y.TransactionInactive);if(this._locked())return new _e(function(e,t){o._blockedFuncs.push([function(){o._promise(n,r,i).then(e,t)},me])});if(i)return Ne(function(){var e=new _e(function(e,t){o._lock();var n=r(e,t,o);n&amp;amp;&amp;amp;n.then&amp;amp;&amp;amp;n.then(e,t)});return e.finally(function(){return o._unlock()}),e._lib=!0,e});var e=new _e(function(e,t){var n=r(e,t,o);n&amp;amp;&amp;amp;n.then&amp;amp;&amp;amp;n.then(e,t)});return e._lib=!0,e},zt.prototype._root=function(){return this.parent?this.parent._root():this},zt.prototype.waitFor=function(e){var t,r=this._root(),i=_e.resolve(e);r._waitingFor?r._waitingFor=r._waitingFor.then(function(){return i}):(r._waitingFor=i,r._waitingQueue=[],t=r.idbtrans.objectStore(r.storeNames[0]),function e(){for(++r._spinCount;r._waitingQueue.length;)r._waitingQueue.shift()();r._waitingFor&amp;amp;&amp;amp;(t.get(-1/0).onsuccess=e)}());var o=r._waitingFor;return new _e(function(t,n){i.then(function(e){return r._waitingQueue.push(Ie(t.bind(null,e)))},function(e){return r._waitingQueue.push(Ie(n.bind(null,e)))}).finally(function(){r._waitingFor===o&amp;amp;&amp;amp;(r._waitingFor=null)})})},zt.prototype.abort=function(){this.active&amp;amp;&amp;amp;(this.active=!1,this.idbtrans&amp;amp;&amp;amp;this.idbtrans.abort(),this._reject(new Y.Abort))},zt.prototype.table=function(e){var t=this._memoizedTables||(this._memoizedTables={});if(m(t,e))return t[e];var n=this.schema[e];if(!n)throw new Y.NotFound(&amp;quot;Table &amp;quot;+e+&amp;quot; not part of transaction&amp;quot;);n=new this.db.Table(e,n,this);return n.core=this.db.core.table(e),t[e]=n},zt);function zt(){}function Wt(e,t,n,r,i,o,a,u){return{name:e,keyPath:t,unique:n,multi:r,auto:i,compound:o,src:(n&amp;amp;&amp;amp;!a?&amp;quot;&amp;amp;&amp;quot;:&amp;quot;&amp;quot;)+(r?&amp;quot;*&amp;quot;:&amp;quot;&amp;quot;)+(i?&amp;quot;++&amp;quot;:&amp;quot;&amp;quot;)+Yt(t),type:u}}function Yt(e){return&amp;quot;string&amp;quot;==typeof e?e:e?&amp;quot;[&amp;quot;+[].join.call(e,&amp;quot;+&amp;quot;)+&amp;quot;]&amp;quot;:&amp;quot;&amp;quot;}function $t(e,t,n){return{name:e,primKey:t,indexes:n,mappedClass:null,idxByName:(r=function(e){return[e.name,e]},n.reduce(function(e,t,n){n=r(t,n);return n&amp;amp;&amp;amp;(e[n[0]]=n[1]),e},{}))};var r}var Qt=function(e){try{return e.only([[]]),Qt=function(){return[[]]},[[]]}catch(e){return Qt=function(){return He},He}};function Gt(t){return null==t?function(){}:&amp;quot;string&amp;quot;==typeof t?1===(n=t).split(&amp;quot;.&amp;quot;).length?function(e){return e[n]}:function(e){return g(e,n)}:function(e){return g(e,t)};var n}function Xt(e){return[].slice.call(e)}var Ht=0;function Jt(e){return null==e?&amp;quot;:id&amp;quot;:&amp;quot;string&amp;quot;==typeof e?e:&amp;quot;[&amp;quot;.concat(e.join(&amp;quot;+&amp;quot;),&amp;quot;]&amp;quot;)}function Zt(e,i,t){function _(e){if(3===e.type)return null;if(4===e.type)throw new Error(&amp;quot;Cannot convert never type to IDBKeyRange&amp;quot;);var t=e.lower,n=e.upper,r=e.lowerOpen,e=e.upperOpen;return void 0===t?void 0===n?null:i.upperBound(n,!!e):void 0===n?i.lowerBound(t,!!r):i.bound(t,n,!!r,!!e)}function n(e){var h,w=e.name;return{name:w,schema:e,mutate:function(e){var y=e.trans,v=e.type,m=e.keys,b=e.values,g=e.range;return new Promise(function(t,e){t=Ie(t);var n=y.objectStore(w),r=null==n.keyPath,i=&amp;quot;put&amp;quot;===v||&amp;quot;add&amp;quot;===v;if(!i&amp;amp;&amp;amp;&amp;quot;delete&amp;quot;!==v&amp;amp;&amp;amp;&amp;quot;deleteRange&amp;quot;!==v)throw new Error(&amp;quot;Invalid operation type: &amp;quot;+v);var o,a=(m||b||{length:1}).length;if(m&amp;amp;&amp;amp;b&amp;amp;&amp;amp;m.length!==b.length)throw new Error(&amp;quot;Given keys array must have same length as given values array.&amp;quot;);if(0===a)return t({numFailures:0,failures:{},results:[],lastResult:void 0});function u(e){++l,Mt(e)}var s=[],c=[],l=0;if(&amp;quot;deleteRange&amp;quot;===v){if(4===g.type)return t({numFailures:l,failures:c,results:[],lastResult:void 0});3===g.type?s.push(o=n.clear()):s.push(o=n.delete(_(g)))}else{var r=i?r?[b,m]:[b,null]:[m,null],f=r[0],h=r[1];if(i)for(var d=0;d&amp;lt;a;++d)s.push(o=h&amp;amp;&amp;amp;void 0!==h[d]?n[v](f[d],h[d]):n[v](f[d])),o.onerror=u;else for(d=0;d&amp;lt;a;++d)s.push(o=n[v](f[d])),o.onerror=u}function p(e){e=e.target.result,s.forEach(function(e,t){return null!=e.error&amp;amp;&amp;amp;(c[t]=e.error)}),t({numFailures:l,failures:c,results:&amp;quot;delete&amp;quot;===v?m:s.map(function(e){return e.result}),lastResult:e})}o.onerror=function(e){u(e),p(e)},o.onsuccess=p})},getMany:function(e){var f=e.trans,h=e.keys;return new Promise(function(t,e){t=Ie(t);for(var n,r=f.objectStore(w),i=h.length,o=new Array(i),a=0,u=0,s=function(e){e=e.target;o[e._pos]=e.result,++u===a&amp;amp;&amp;amp;t(o)},c=Ft(e),l=0;l&amp;lt;i;++l)null!=h[l]&amp;amp;&amp;amp;((n=r.get(h[l]))._pos=l,n.onsuccess=s,n.onerror=c,++a);0===a&amp;amp;&amp;amp;t(o)})},get:function(e){var r=e.trans,i=e.key;return new Promise(function(t,e){t=Ie(t);var n=r.objectStore(w).get(i);n.onsuccess=function(e){return t(e.target.result)},n.onerror=Ft(e)})},query:(h=s,function(f){return new Promise(function(n,e){n=Ie(n);var r,i,o,t=f.trans,a=f.values,u=f.limit,s=f.query,c=u===1/0?void 0:u,l=s.index,s=s.range,t=t.objectStore(w),l=l.isPrimaryKey?t:t.index(l.name),s=_(s);if(0===u)return n({result:[]});h?((c=a?l.getAll(s,c):l.getAllKeys(s,c)).onsuccess=function(e){return n({result:e.target.result})},c.onerror=Ft(e)):(r=0,i=!a&amp;amp;&amp;amp;&amp;quot;openKeyCursor&amp;quot;in l?l.openKeyCursor(s):l.openCursor(s),o=[],i.onsuccess=function(e){var t=i.result;return t?(o.push(a?t.value:t.primaryKey),++r===u?n({result:o}):void t.continue()):n({result:o})},i.onerror=Ft(e))})}),openCursor:function(e){var c=e.trans,o=e.values,a=e.query,u=e.reverse,l=e.unique;return new Promise(function(t,n){t=Ie(t);var e=a.index,r=a.range,i=c.objectStore(w),i=e.isPrimaryKey?i:i.index(e.name),e=u?l?&amp;quot;prevunique&amp;quot;:&amp;quot;prev&amp;quot;:l?&amp;quot;nextunique&amp;quot;:&amp;quot;next&amp;quot;,s=!o&amp;amp;&amp;amp;&amp;quot;openKeyCursor&amp;quot;in i?i.openKeyCursor(_(r),e):i.openCursor(_(r),e);s.onerror=Ft(n),s.onsuccess=Ie(function(e){var r,i,o,a,u=s.result;u?(u.___id=++Ht,u.done=!1,r=u.continue.bind(u),i=(i=u.continuePrimaryKey)&amp;amp;&amp;amp;i.bind(u),o=u.advance.bind(u),a=function(){throw new Error(&amp;quot;Cursor not stopped&amp;quot;)},u.trans=c,u.stop=u.continue=u.continuePrimaryKey=u.advance=function(){throw new Error(&amp;quot;Cursor not started&amp;quot;)},u.fail=Ie(n),u.next=function(){var e=this,t=1;return this.start(function(){return t--?e.continue():e.stop()}).then(function(){return e})},u.start=function(e){function t(){if(s.result)try{e()}catch(e){u.fail(e)}else u.done=!0,u.start=function(){throw new Error(&amp;quot;Cursor behind last entry&amp;quot;)},u.stop()}var n=new Promise(function(t,e){t=Ie(t),s.onerror=Ft(e),u.fail=e,u.stop=function(e){u.stop=u.continue=u.continuePrimaryKey=u.ad&quot;,&quot;numLines&quot;:1}}"><div class="flex relative bg-white font-mono text-sm leading-6"><div class="py-4 border-b border-x border-slate-300 bg-slate-100 text-right select-none"><div><div class="relative"><a id="L1" href="#L1" class="inline-block w-full pl-4 sm:pl-6 pr-2 text-slate-600 hover:text-slate-950 outline-none">1</a></div></div></div><div class="py-4 pl-4 pr-6 relative border-b border-r border-slate-300 flex-grow whitespace-pre overflow-x-auto" style="tab-size:2;">(function(e,t){&quot;object&quot;==typeof exports&amp;&amp;&quot;undefined&quot;!=typeof module?module.exports=t():&quot;function&quot;==typeof define&amp;&amp;define.amd?define(t):(e=&quot;undefined&quot;!=typeof globalThis?globalThis:e||self).Dexie=t()})(this,function(){&quot;use strict&quot;;var s=function(e,t){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&amp;&amp;function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&amp;&amp;(e[n]=t[n])})(e,t)};var _=function(){return(_=Object.assign||function(e){for(var t,n=1,r=arguments.length;n&lt;r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&amp;&amp;(e[i]=t[i]);return e}).apply(this,arguments)};function i(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i&lt;o;i++)!r&amp;&amp;i in t||((r=r||Array.prototype.slice.call(t,0,i))[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}var f=&quot;undefined&quot;!=typeof globalThis?globalThis:&quot;undefined&quot;!=typeof self?self:&quot;undefined&quot;!=typeof window?window:global,O=Object.keys,x=Array.isArray;function a(t,n){return&quot;object&quot;!=typeof n||O(n).forEach(function(e){t[e]=n[e]}),t}&quot;undefined&quot;==typeof Promise||f.Promise||(f.Promise=Promise);var c=Object.getPrototypeOf,n={}.hasOwnProperty;function m(e,t){return n.call(e,t)}function r(t,n){&quot;function&quot;==typeof n&amp;&amp;(n=n(c(t))),(&quot;undefined&quot;==typeof Reflect?O:Reflect.ownKeys)(n).forEach(function(e){l(t,e,n[e])})}var u=Object.defineProperty;function l(e,t,n,r){u(e,t,a(n&amp;&amp;m(n,&quot;get&quot;)&amp;&amp;&quot;function&quot;==typeof n.get?{get:n.get,set:n.set,configurable:!0}:{value:n,configurable:!0,writable:!0},r))}function o(t){return{from:function(e){return t.prototype=Object.create(e.prototype),l(t.prototype,&quot;constructor&quot;,t),{extend:r.bind(null,t.prototype)}}}}var h=Object.getOwnPropertyDescriptor;var d=[].slice;function b(e,t,n){return d.call(e,t,n)}function p(e,t){return t(e)}function y(e){if(!e)throw new Error(&quot;Assertion Failed&quot;)}function v(e){f.setImmediate?setImmediate(e):setTimeout(e,0)}function g(e,t){if(&quot;string&quot;==typeof t&amp;&amp;m(e,t))return e[t];if(!t)return e;if(&quot;string&quot;!=typeof t){for(var n=[],r=0,i=t.length;r&lt;i;++r){var o=g(e,t[r]);n.push(o)}return n}var a=t.indexOf(&quot;.&quot;);if(-1!==a){var u=e[t.substr(0,a)];return null==u?void 0:g(u,t.substr(a+1))}}function w(e,t,n){if(e&amp;&amp;void 0!==t&amp;&amp;!(&quot;isFrozen&quot;in Object&amp;&amp;Object.isFrozen(e)))if(&quot;string&quot;!=typeof t&amp;&amp;&quot;length&quot;in t){y(&quot;string&quot;!=typeof n&amp;&amp;&quot;length&quot;in n);for(var r=0,i=t.length;r&lt;i;++r)w(e,t[r],n[r])}else{var o,a,u=t.indexOf(&quot;.&quot;);-1!==u?(o=t.substr(0,u),&quot;&quot;===(a=t.substr(u+1))?void 0===n?x(e)&amp;&amp;!isNaN(parseInt(o))?e.splice(o,1):delete e[o]:e[o]=n:w(u=!(u=e[o])||!m(e,o)?e[o]={}:u,a,n)):void 0===n?x(e)&amp;&amp;!isNaN(parseInt(t))?e.splice(t,1):delete e[t]:e[t]=n}}function k(e){var t,n={};for(t in e)m(e,t)&amp;&amp;(n[t]=e[t]);return n}var t=[].concat;function P(e){return t.apply([],e)}var e=&quot;BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey&quot;.split(&quot;,&quot;).concat(P([8,16,32,64].map(function(t){return[&quot;Int&quot;,&quot;Uint&quot;,&quot;Float&quot;].map(function(e){return e+t+&quot;Array&quot;})}))).filter(function(e){return f[e]}),K=new Set(e.map(function(e){return f[e]}));var E=null;function S(e){E=new WeakMap;e=function e(t){if(!t||&quot;object&quot;!=typeof t)return t;var n=E.get(t);if(n)return n;if(x(t)){n=[],E.set(t,n);for(var r=0,i=t.length;r&lt;i;++r)n.push(e(t[r]))}else if(K.has(t.constructor))n=t;else{var o,a=c(t);for(o in n=a===Object.prototype?{}:Object.create(a),E.set(t,n),t)m(t,o)&amp;&amp;(n[o]=e(t[o]))}return n}(e);return E=null,e}var j={}.toString;function A(e){return j.call(e).slice(8,-1)}var C=&quot;undefined&quot;!=typeof Symbol?Symbol.iterator:&quot;@@iterator&quot;,T=&quot;symbol&quot;==typeof C?function(e){var t;return null!=e&amp;&amp;(t=e[C])&amp;&amp;t.apply(e)}:function(){return null};function I(e,t){t=e.indexOf(t);return 0&lt;=t&amp;&amp;e.splice(t,1),0&lt;=t}var q={};function D(e){var t,n,r,i;if(1===arguments.length){if(x(e))return e.slice();if(this===q&amp;&amp;&quot;string&quot;==typeof e)return[e];if(i=T(e)){for(n=[];!(r=i.next()).done;)n.push(r.value);return n}if(null==e)return[e];if(&quot;number&quot;!=typeof(t=e.length))return[e];for(n=new Array(t);t--;)n[t]=e[t];return n}for(t=arguments.length,n=new Array(t);t--;)n[t]=arguments[t];return n}var B=&quot;undefined&quot;!=typeof Symbol?function(e){return&quot;AsyncFunction&quot;===e[Symbol.toStringTag]}:function(){return!1},R=[&quot;Unknown&quot;,&quot;Constraint&quot;,&quot;Data&quot;,&quot;TransactionInactive&quot;,&quot;ReadOnly&quot;,&quot;Version&quot;,&quot;NotFound&quot;,&quot;InvalidState&quot;,&quot;InvalidAccess&quot;,&quot;Abort&quot;,&quot;Timeout&quot;,&quot;QuotaExceeded&quot;,&quot;Syntax&quot;,&quot;DataClone&quot;],F=[&quot;Modify&quot;,&quot;Bulk&quot;,&quot;OpenFailed&quot;,&quot;VersionChange&quot;,&quot;Schema&quot;,&quot;Upgrade&quot;,&quot;InvalidTable&quot;,&quot;MissingAPI&quot;,&quot;NoSuchDatabase&quot;,&quot;InvalidArgument&quot;,&quot;SubTransaction&quot;,&quot;Unsupported&quot;,&quot;Internal&quot;,&quot;DatabaseClosed&quot;,&quot;PrematureCommit&quot;,&quot;ForeignAwait&quot;].concat(R),M={VersionChanged:&quot;Database version changed by other database connection&quot;,DatabaseClosed:&quot;Database has been closed&quot;,Abort:&quot;Transaction aborted&quot;,TransactionInactive:&quot;Transaction has already completed or failed&quot;,MissingAPI:&quot;IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb&quot;};function N(e,t){this.name=e,this.message=t}function L(e,t){return e+&quot;. Errors: &quot;+Object.keys(t).map(function(e){return t[e].toString()}).filter(function(e,t,n){return n.indexOf(e)===t}).join(&quot;\n&quot;)}function U(e,t,n,r){this.failures=t,this.failedKeys=r,this.successCount=n,this.message=L(e,t)}function V(e,t){this.name=&quot;BulkError&quot;,this.failures=Object.keys(t).map(function(e){return t[e]}),this.failuresByPos=t,this.message=L(e,this.failures)}o(N).from(Error).extend({toString:function(){return this.name+&quot;: &quot;+this.message}}),o(U).from(N),o(V).from(N);var z=F.reduce(function(e,t){return e[t]=t+&quot;Error&quot;,e},{}),W=N,Y=F.reduce(function(e,n){var r=n+&quot;Error&quot;;function t(e,t){this.name=r,e?&quot;string&quot;==typeof e?(this.message=&quot;&quot;.concat(e).concat(t?&quot;\n &quot;+t:&quot;&quot;),this.inner=t||null):&quot;object&quot;==typeof e&amp;&amp;(this.message=&quot;&quot;.concat(e.name,&quot; &quot;).concat(e.message),this.inner=e):(this.message=M[n]||r,this.inner=null)}return o(t).from(W),e[n]=t,e},{});Y.Syntax=SyntaxError,Y.Type=TypeError,Y.Range=RangeError;var $=R.reduce(function(e,t){return e[t+&quot;Error&quot;]=Y[t],e},{});var Q=F.reduce(function(e,t){return-1===[&quot;Syntax&quot;,&quot;Type&quot;,&quot;Range&quot;].indexOf(t)&amp;&amp;(e[t+&quot;Error&quot;]=Y[t]),e},{});function G(){}function X(e){return e}function H(t,n){return null==t||t===X?n:function(e){return n(t(e))}}function J(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function Z(i,o){return i===G?o:function(){var e=i.apply(this,arguments);void 0!==e&amp;&amp;(arguments[0]=e);var t=this.onsuccess,n=this.onerror;this.onsuccess=null,this.onerror=null;var r=o.apply(this,arguments);return t&amp;&amp;(this.onsuccess=this.onsuccess?J(t,this.onsuccess):t),n&amp;&amp;(this.onerror=this.onerror?J(n,this.onerror):n),void 0!==r?r:e}}function ee(n,r){return n===G?r:function(){n.apply(this,arguments);var e=this.onsuccess,t=this.onerror;this.onsuccess=this.onerror=null,r.apply(this,arguments),e&amp;&amp;(this.onsuccess=this.onsuccess?J(e,this.onsuccess):e),t&amp;&amp;(this.onerror=this.onerror?J(t,this.onerror):t)}}function te(i,o){return i===G?o:function(e){var t=i.apply(this,arguments);a(e,t);var n=this.onsuccess,r=this.onerror;this.onsuccess=null,this.onerror=null;e=o.apply(this,arguments);return n&amp;&amp;(this.onsuccess=this.onsuccess?J(n,this.onsuccess):n),r&amp;&amp;(this.onerror=this.onerror?J(r,this.onerror):r),void 0===t?void 0===e?void 0:e:a(t,e)}}function ne(e,t){return e===G?t:function(){return!1!==t.apply(this,arguments)&amp;&amp;e.apply(this,arguments)}}function re(i,o){return i===G?o:function(){var e=i.apply(this,arguments);if(e&amp;&amp;&quot;function&quot;==typeof e.then){for(var t=this,n=arguments.length,r=new Array(n);n--;)r[n]=arguments[n];return e.then(function(){return o.apply(t,r)})}return o.apply(this,arguments)}}Q.ModifyError=U,Q.DexieError=N,Q.BulkError=V;var ie=&quot;undefined&quot;!=typeof location&amp;&amp;/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function oe(e){ie=e}var ae={},ue=100,e=&quot;undefined&quot;==typeof Promise?[]:function(){var e=Promise.resolve();if(&quot;undefined&quot;==typeof crypto||!crypto.subtle)return[e,c(e),e];var t=crypto.subtle.digest(&quot;SHA-512&quot;,new Uint8Array([0]));return[t,c(t),e]}(),R=e[0],F=e[1],e=e[2],F=F&amp;&amp;F.then,se=R&amp;&amp;R.constructor,ce=!!e;var le=function(e,t){be.push([e,t]),he&amp;&amp;(queueMicrotask(Se),he=!1)},fe=!0,he=!0,de=[],pe=[],ye=X,ve={id:&quot;global&quot;,global:!0,ref:0,unhandleds:[],onunhandled:G,pgp:!1,env:{},finalize:G},me=ve,be=[],ge=0,we=[];function _e(e){if(&quot;object&quot;!=typeof this)throw new TypeError(&quot;Promises must be constructed via new&quot;);this._listeners=[],this._lib=!1;var t=this._PSD=me;if(&quot;function&quot;!=typeof e){if(e!==ae)throw new TypeError(&quot;Not a function&quot;);return this._state=arguments[1],this._value=arguments[2],void(!1===this._state&amp;&amp;Oe(this,this._value))}this._state=null,this._value=null,++t.ref,function t(r,e){try{e(function(n){if(null===r._state){if(n===r)throw new TypeError(&quot;A promise cannot be resolved with itself.&quot;);var e=r._lib&amp;&amp;je();n&amp;&amp;&quot;function&quot;==typeof n.then?t(r,function(e,t){n instanceof _e?n._then(e,t):n.then(e,t)}):(r._state=!0,r._value=n,Pe(r)),e&amp;&amp;Ae()}},Oe.bind(null,r))}catch(e){Oe(r,e)}}(this,e)}var xe={get:function(){var u=me,t=Fe;function e(n,r){var i=this,o=!u.global&amp;&amp;(u!==me||t!==Fe),a=o&amp;&amp;!Ue(),e=new _e(function(e,t){Ke(i,new ke(Qe(n,u,o,a),Qe(r,u,o,a),e,t,u))});return this._consoleTask&amp;&amp;(e._consoleTask=this._consoleTask),e}return e.prototype=ae,e},set:function(e){l(this,&quot;then&quot;,e&amp;&amp;e.prototype===ae?xe:{get:function(){return e},set:xe.set})}};function ke(e,t,n,r,i){this.onFulfilled=&quot;function&quot;==typeof e?e:null,this.onRejected=&quot;function&quot;==typeof t?t:null,this.resolve=n,this.reject=r,this.psd=i}function Oe(e,t){var n,r;pe.push(t),null===e._state&amp;&amp;(n=e._lib&amp;&amp;je(),t=ye(t),e._state=!1,e._value=t,r=e,de.some(function(e){return e._value===r._value})||de.push(r),Pe(e),n&amp;&amp;Ae())}function Pe(e){var t=e._listeners;e._listeners=[];for(var n=0,r=t.length;n&lt;r;++n)Ke(e,t[n]);var i=e._PSD;--i.ref||i.finalize(),0===ge&amp;&amp;(++ge,le(function(){0==--ge&amp;&amp;Ce()},[]))}function Ke(e,t){if(null!==e._state){var n=e._state?t.onFulfilled:t.onRejected;if(null===n)return(e._state?t.resolve:t.reject)(e._value);++t.psd.ref,++ge,le(Ee,[n,e,t])}else e._listeners.push(t)}function Ee(e,t,n){try{var r,i=t._value;!t._state&amp;&amp;pe.length&amp;&amp;(pe=[]),r=ie&amp;&amp;t._consoleTask?t._consoleTask.run(function(){return e(i)}):e(i),t._state||-1!==pe.indexOf(i)||function(e){var t=de.length;for(;t;)if(de[--t]._value===e._value)return de.splice(t,1)}(t),n.resolve(r)}catch(e){n.reject(e)}finally{0==--ge&amp;&amp;Ce(),--n.psd.ref||n.psd.finalize()}}function Se(){$e(ve,function(){je()&amp;&amp;Ae()})}function je(){var e=fe;return he=fe=!1,e}function Ae(){var e,t,n;do{for(;0&lt;be.length;)for(e=be,be=[],n=e.length,t=0;t&lt;n;++t){var r=e[t];r[0].apply(null,r[1])}}while(0&lt;be.length);he=fe=!0}function Ce(){var e=de;de=[],e.forEach(function(e){e._PSD.onunhandled.call(null,e._value,e)});for(var t=we.slice(0),n=t.length;n;)t[--n]()}function Te(e){return new _e(ae,!1,e)}function Ie(n,r){var i=me;return function(){var e=je(),t=me;try{return We(i,!0),n.apply(this,arguments)}catch(e){r&amp;&amp;r(e)}finally{We(t,!1),e&amp;&amp;Ae()}}}r(_e.prototype,{then:xe,_then:function(e,t){Ke(this,new ke(null,null,e,t,me))},catch:function(e){if(1===arguments.length)return this.then(null,e);var t=e,n=arguments[1];return&quot;function&quot;==typeof t?this.then(null,function(e){return(e instanceof t?n:Te)(e)}):this.then(null,function(e){return(e&amp;&amp;e.name===t?n:Te)(e)})},finally:function(t){return this.then(function(e){return _e.resolve(t()).then(function(){return e})},function(e){return _e.resolve(t()).then(function(){return Te(e)})})},timeout:function(r,i){var o=this;return r&lt;1/0?new _e(function(e,t){var n=setTimeout(function(){return t(new Y.Timeout(i))},r);o.then(e,t).finally(clearTimeout.bind(null,n))}):this}}),&quot;undefined&quot;!=typeof Symbol&amp;&amp;Symbol.toStringTag&amp;&amp;l(_e.prototype,Symbol.toStringTag,&quot;Dexie.Promise&quot;),ve.env=Ye(),r(_e,{all:function(){var o=D.apply(null,arguments).map(Ve);return new _e(function(n,r){0===o.length&amp;&amp;n([]);var i=o.length;o.forEach(function(e,t){return _e.resolve(e).then(function(e){o[t]=e,--i||n(o)},r)})})},resolve:function(n){return n instanceof _e?n:n&amp;&amp;&quot;function&quot;==typeof n.then?new _e(function(e,t){n.then(e,t)}):new _e(ae,!0,n)},reject:Te,race:function(){var e=D.apply(null,arguments).map(Ve);return new _e(function(t,n){e.map(function(e){return _e.resolve(e).then(t,n)})})},PSD:{get:function(){return me},set:function(e){return me=e}},totalEchoes:{get:function(){return Fe}},newPSD:Ne,usePSD:$e,scheduler:{get:function(){return le},set:function(e){le=e}},rejectionMapper:{get:function(){return ye},set:function(e){ye=e}},follow:function(i,n){return new _e(function(e,t){return Ne(function(n,r){var e=me;e.unhandleds=[],e.onunhandled=r,e.finalize=J(function(){var t,e=this;t=function(){0===e.unhandleds.length?n():r(e.unhandleds[0])},we.push(function e(){t(),we.splice(we.indexOf(e),1)}),++ge,le(function(){0==--ge&amp;&amp;Ce()},[])},e.finalize),i()},n,e,t)})}}),se&amp;&amp;(se.allSettled&amp;&amp;l(_e,&quot;allSettled&quot;,function(){var e=D.apply(null,arguments).map(Ve);return new _e(function(n){0===e.length&amp;&amp;n([]);var r=e.length,i=new Array(r);e.forEach(function(e,t){return _e.resolve(e).then(function(e){return i[t]={status:&quot;fulfilled&quot;,value:e}},function(e){return i[t]={status:&quot;rejected&quot;,reason:e}}).then(function(){return--r||n(i)})})})}),se.any&amp;&amp;&quot;undefined&quot;!=typeof AggregateError&amp;&amp;l(_e,&quot;any&quot;,function(){var e=D.apply(null,arguments).map(Ve);return new _e(function(n,r){0===e.length&amp;&amp;r(new AggregateError([]));var i=e.length,o=new Array(i);e.forEach(function(e,t){return _e.resolve(e).then(function(e){return n(e)},function(e){o[t]=e,--i||r(new AggregateError(o))})})})}),se.withResolvers&amp;&amp;(_e.withResolvers=se.withResolvers));var qe={awaits:0,echoes:0,id:0},De=0,Be=[],Re=0,Fe=0,Me=0;function Ne(e,t,n,r){var i=me,o=Object.create(i);o.parent=i,o.ref=0,o.global=!1,o.id=++Me,ve.env,o.env=ce?{Promise:_e,PromiseProp:{value:_e,configurable:!0,writable:!0},all:_e.all,race:_e.race,allSettled:_e.allSettled,any:_e.any,resolve:_e.resolve,reject:_e.reject}:{},t&amp;&amp;a(o,t),++i.ref,o.finalize=function(){--this.parent.ref||this.parent.finalize()};r=$e(o,e,n,r);return 0===o.ref&amp;&amp;o.finalize(),r}function Le(){return qe.id||(qe.id=++De),++qe.awaits,qe.echoes+=ue,qe.id}function Ue(){return!!qe.awaits&amp;&amp;(0==--qe.awaits&amp;&amp;(qe.id=0),qe.echoes=qe.awaits*ue,!0)}function Ve(e){return qe.echoes&amp;&amp;e&amp;&amp;e.constructor===se?(Le(),e.then(function(e){return Ue(),e},function(e){return Ue(),Xe(e)})):e}function ze(){var e=Be[Be.length-1];Be.pop(),We(e,!1)}function We(e,t){var n,r=me;(t?!qe.echoes||Re++&amp;&amp;e===me:!Re||--Re&amp;&amp;e===me)||queueMicrotask(t?function(e){++Fe,qe.echoes&amp;&amp;0!=--qe.echoes||(qe.echoes=qe.awaits=qe.id=0),Be.push(me),We(e,!0)}.bind(null,e):ze),e!==me&amp;&amp;(me=e,r===ve&amp;&amp;(ve.env=Ye()),ce&amp;&amp;(n=ve.env.Promise,t=e.env,(r.global||e.global)&amp;&amp;(Object.defineProperty(f,&quot;Promise&quot;,t.PromiseProp),n.all=t.all,n.race=t.race,n.resolve=t.resolve,n.reject=t.reject,t.allSettled&amp;&amp;(n.allSettled=t.allSettled),t.any&amp;&amp;(n.any=t.any))))}function Ye(){var e=f.Promise;return ce?{Promise:e,PromiseProp:Object.getOwnPropertyDescriptor(f,&quot;Promise&quot;),all:e.all,race:e.race,allSettled:e.allSettled,any:e.any,resolve:e.resolve,reject:e.reject}:{}}function $e(e,t,n,r,i){var o=me;try{return We(e,!0),t(n,r,i)}finally{We(o,!1)}}function Qe(t,n,r,i){return&quot;function&quot;!=typeof t?t:function(){var e=me;r&amp;&amp;Le(),We(n,!0);try{return t.apply(this,arguments)}finally{We(e,!1),i&amp;&amp;queueMicrotask(Ue)}}}function Ge(e){Promise===se&amp;&amp;0===qe.echoes?0===Re?e():enqueueNativeMicroTask(e):setTimeout(e,0)}-1===(&quot;&quot;+F).indexOf(&quot;[native code]&quot;)&amp;&amp;(Le=Ue=G);var Xe=_e.reject;var He=String.fromCharCode(65535),Je=&quot;Invalid key provided. Keys must be of type string, number, Date or Array&lt;string | number | Date&gt;.&quot;,Ze=&quot;String expected.&quot;,et=[],tt=&quot;__dbnames&quot;,nt=&quot;readonly&quot;,rt=&quot;readwrite&quot;;function it(e,t){return e?t?function(){return e.apply(this,arguments)&amp;&amp;t.apply(this,arguments)}:e:t}var ot={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function at(t){return&quot;string&quot;!=typeof t||/\./.test(t)?function(e){return e}:function(e){return void 0===e[t]&amp;&amp;t in e&amp;&amp;delete(e=S(e))[t],e}}function ut(){throw Y.Type(&quot;Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.&quot;)}function st(e,t){try{var n=ct(e),r=ct(t);if(n!==r)return&quot;Array&quot;===n?1:&quot;Array&quot;===r?-1:&quot;binary&quot;===n?1:&quot;binary&quot;===r?-1:&quot;string&quot;===n?1:&quot;string&quot;===r?-1:&quot;Date&quot;===n?1:&quot;Date&quot;!==r?NaN:-1;switch(n){case&quot;number&quot;:case&quot;Date&quot;:case&quot;string&quot;:return t&lt;e?1:e&lt;t?-1:0;case&quot;binary&quot;:return function(e,t){for(var n=e.length,r=t.length,i=n&lt;r?n:r,o=0;o&lt;i;++o)if(e[o]!==t[o])return e[o]&lt;t[o]?-1:1;return n===r?0:n&lt;r?-1:1}(lt(e),lt(t));case&quot;Array&quot;:return function(e,t){for(var n=e.length,r=t.length,i=n&lt;r?n:r,o=0;o&lt;i;++o){var a=st(e[o],t[o]);if(0!==a)return a}return n===r?0:n&lt;r?-1:1}(e,t)}}catch(e){}return NaN}function ct(e){var t=typeof e;if(&quot;object&quot;!=t)return t;if(ArrayBuffer.isView(e))return&quot;binary&quot;;e=A(e);return&quot;ArrayBuffer&quot;===e?&quot;binary&quot;:e}function lt(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(e)}function ft(t,n,r){var e=t.schema.yProps;return e?(n&amp;&amp;0&lt;r.numFailures&amp;&amp;(n=n.filter(function(e,t){return!r.failures[t]})),Promise.all(e.map(function(e){e=e.updatesTable;return n?t.db.table(e).where(&quot;k&quot;).anyOf(n).delete():t.db.table(e).clear()})).then(function(){return r})):r}var ht=(dt.prototype.execute=function(e){var t=this[&quot;@@propmod&quot;];if(void 0!==t.add){var n=t.add;if(x(n))return i(i([],x(e)?e:[],!0),n,!0).sort();if(&quot;number&quot;==typeof n)return(Number(e)||0)+n;if(&quot;bigint&quot;==typeof n)try{return BigInt(e)+n}catch(e){return BigInt(0)+n}throw new TypeError(&quot;Invalid term &quot;.concat(n))}if(void 0!==t.remove){var r=t.remove;if(x(r))return x(e)?e.filter(function(e){return!r.includes(e)}).sort():[];if(&quot;number&quot;==typeof r)return Number(e)-r;if(&quot;bigint&quot;==typeof r)try{return BigInt(e)-r}catch(e){return BigInt(0)-r}throw new TypeError(&quot;Invalid subtrahend &quot;.concat(r))}n=null===(n=t.replacePrefix)||void 0===n?void 0:n[0];return n&amp;&amp;&quot;string&quot;==typeof e&amp;&amp;e.startsWith(n)?t.replacePrefix[1]+e.substring(n.length):e},dt);function dt(e){this[&quot;@@propmod&quot;]=e}function pt(e,t){for(var n=O(t),r=n.length,i=!1,o=0;o&lt;r;++o){var a=n[o],u=t[a],s=g(e,a);u instanceof ht?(w(e,a,u.execute(s)),i=!0):s!==u&amp;&amp;(w(e,a,u),i=!0)}return i}var yt=(vt.prototype._trans=function(e,r,t){var n=this._tx||me.trans,i=this.name,o=ie&amp;&amp;&quot;undefined&quot;!=typeof console&amp;&amp;console.createTask&amp;&amp;console.createTask(&quot;Dexie: &quot;.concat(&quot;readonly&quot;===e?&quot;read&quot;:&quot;write&quot;,&quot; &quot;).concat(this.name));function a(e,t,n){if(!n.schema[i])throw new Y.NotFound(&quot;Table &quot;+i+&quot; not part of transaction&quot;);return r(n.idbtrans,n)}var u=je();try{var s=n&amp;&amp;n.db._novip===this.db._novip?n===me.trans?n._promise(e,a,t):Ne(function(){return n._promise(e,a,t)},{trans:n,transless:me.transless||me}):function t(n,r,i,o){if(n.idbdb&amp;&amp;(n._state.openComplete||me.letThrough||n._vip)){var a=n._createTransaction(r,i,n._dbSchema);try{a.create(),n._state.PR1398_maxLoop=3}catch(e){return e.name===z.InvalidState&amp;&amp;n.isOpen()&amp;&amp;0&lt;--n._state.PR1398_maxLoop?(console.warn(&quot;Dexie: Need to reopen db&quot;),n.close({disableAutoOpen:!1}),n.open().then(function(){return t(n,r,i,o)})):Xe(e)}return a._promise(r,function(e,t){return Ne(function(){return me.trans=a,o(e,t,a)})}).then(function(e){if(&quot;readwrite&quot;===r)try{a.idbtrans.commit()}catch(e){}return&quot;readonly&quot;===r?e:a._completion.then(function(){return e})})}if(n._state.openComplete)return Xe(new Y.DatabaseClosed(n._state.dbOpenError));if(!n._state.isBeingOpened){if(!n._state.autoOpen)return Xe(new Y.DatabaseClosed);n.open().catch(G)}return n._state.dbReadyPromise.then(function(){return t(n,r,i,o)})}(this.db,e,[this.name],a);return o&amp;&amp;(s._consoleTask=o,s=s.catch(function(e){return console.trace(e),Xe(e)})),s}finally{u&amp;&amp;Ae()}},vt.prototype.get=function(t,e){var n=this;return t&amp;&amp;t.constructor===Object?this.where(t).first(e):null==t?Xe(new Y.Type(&quot;Invalid argument to Table.get()&quot;)):this._trans(&quot;readonly&quot;,function(e){return n.core.get({trans:e,key:t}).then(function(e){return n.hook.reading.fire(e)})}).then(e)},vt.prototype.where=function(o){if(&quot;string&quot;==typeof o)return new this.db.WhereClause(this,o);if(x(o))return new this.db.WhereClause(this,&quot;[&quot;.concat(o.join(&quot;+&quot;),&quot;]&quot;));var n=O(o);if(1===n.length)return this.where(n[0]).equals(o[n[0]]);var e=this.schema.indexes.concat(this.schema.primKey).filter(function(t){if(t.compound&amp;&amp;n.every(function(e){return 0&lt;=t.keyPath.indexOf(e)})){for(var e=0;e&lt;n.length;++e)if(-1===n.indexOf(t.keyPath[e]))return!1;return!0}return!1}).sort(function(e,t){return e.keyPath.length-t.keyPath.length})[0];if(e&amp;&amp;this.db._maxKey!==He){var t=e.keyPath.slice(0,n.length);return this.where(t).equals(t.map(function(e){return o[e]}))}!e&amp;&amp;ie&amp;&amp;console.warn(&quot;The query &quot;.concat(JSON.stringify(o),&quot; on &quot;).concat(this.name,&quot; would benefit from a &quot;)+&quot;compound index [&quot;.concat(n.join(&quot;+&quot;),&quot;]&quot;));var a=this.schema.idxByName;function u(e,t){return 0===st(e,t)}var r=n.reduce(function(e,t){var n=e[0],r=e[1],e=a[t],i=o[t];return[n||e,n||!e?it(r,e&amp;&amp;e.multi?function(e){e=g(e,t);return x(e)&amp;&amp;e.some(function(e){return u(i,e)})}:function(e){return u(i,g(e,t))}):r]},[null,null]),t=r[0],r=r[1];return t?this.where(t.name).equals(o[t.keyPath]).filter(r):e?this.filter(r):this.where(n).equals(&quot;&quot;)},vt.prototype.filter=function(e){return this.toCollection().and(e)},vt.prototype.count=function(e){return this.toCollection().count(e)},vt.prototype.offset=function(e){return this.toCollection().offset(e)},vt.prototype.limit=function(e){return this.toCollection().limit(e)},vt.prototype.each=function(e){return this.toCollection().each(e)},vt.prototype.toArray=function(e){return this.toCollection().toArray(e)},vt.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},vt.prototype.orderBy=function(e){return new this.db.Collection(new this.db.WhereClause(this,x(e)?&quot;[&quot;.concat(e.join(&quot;+&quot;),&quot;]&quot;):e))},vt.prototype.reverse=function(){return this.toCollection().reverse()},vt.prototype.mapToClass=function(r){var e,t=this.db,n=this.name;function i(){return null!==e&amp;&amp;e.apply(this,arguments)||this}(this.schema.mappedClass=r).prototype instanceof ut&amp;&amp;(function(e,t){if(&quot;function&quot;!=typeof t&amp;&amp;null!==t)throw new TypeError(&quot;Class extends value &quot;+String(t)+&quot; is not a constructor or null&quot;);function n(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(i,e=r),Object.defineProperty(i.prototype,&quot;db&quot;,{get:function(){return t},enumerable:!1,configurable:!0}),i.prototype.table=function(){return n},r=i);for(var o=new Set,a=r.prototype;a;a=c(a))Object.getOwnPropertyNames(a).forEach(function(e){return o.add(e)});function u(e){if(!e)return e;var t,n=Object.create(r.prototype);for(t in e)if(!o.has(t))try{n[t]=e[t]}catch(e){}return n}return this.schema.readHook&amp;&amp;this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=u,this.hook(&quot;reading&quot;,u),r},vt.prototype.defineClass=function(){return this.mapToClass(function(e){a(this,e)})},vt.prototype.add=function(t,n){var r=this,e=this.schema.primKey,i=e.auto,o=e.keyPath,a=t;return o&amp;&amp;i&amp;&amp;(a=at(o)(t)),this._trans(&quot;readwrite&quot;,function(e){return r.core.mutate({trans:e,type:&quot;add&quot;,keys:null!=n?[n]:null,values:[a]})}).then(function(e){return e.numFailures?_e.reject(e.failures[0]):e.lastResult}).then(function(e){if(o)try{w(t,o,e)}catch(e){}return e})},vt.prototype.upsert=function(r,i){var o=this,a=this.schema.primKey.keyPath;return this._trans(&quot;readwrite&quot;,function(n){return o.core.get({trans:n,key:r}).then(function(t){var e=null!=t?t:{};return pt(e,i),a&amp;&amp;w(e,a,r),o.core.mutate({trans:n,type:&quot;put&quot;,values:[e],keys:[r],upsert:!0,updates:{keys:[r],changeSpecs:[i]}}).then(function(e){return e.numFailures?_e.reject(e.failures[0]):!!t})})})},vt.prototype.update=function(e,t){if(&quot;object&quot;!=typeof e||x(e))return this.where(&quot;:id&quot;).equals(e).modify(t);e=g(e,this.schema.primKey.keyPath);return void 0===e?Xe(new Y.InvalidArgument(&quot;Given object does not contain its primary key&quot;)):this.where(&quot;:id&quot;).equals(e).modify(t)},vt.prototype.put=function(t,n){var r=this,e=this.schema.primKey,i=e.auto,o=e.keyPath,a=t;return o&amp;&amp;i&amp;&amp;(a=at(o)(t)),this._trans(&quot;readwrite&quot;,function(e){return r.core.mutate({trans:e,type:&quot;put&quot;,values:[a],keys:null!=n?[n]:null})}).then(function(e){return e.numFailures?_e.reject(e.failures[0]):e.lastResult}).then(function(e){if(o)try{w(t,o,e)}catch(e){}return e})},vt.prototype.delete=function(t){var n=this;return this._trans(&quot;readwrite&quot;,function(e){return n.core.mutate({trans:e,type:&quot;delete&quot;,keys:[t]}).then(function(e){return ft(n,[t],e)}).then(function(e){return e.numFailures?_e.reject(e.failures[0]):void 0})})},vt.prototype.clear=function(){var t=this;return this._trans(&quot;readwrite&quot;,function(e){return t.core.mutate({trans:e,type:&quot;deleteRange&quot;,range:ot}).then(function(e){return ft(t,null,e)})}).then(function(e){return e.numFailures?_e.reject(e.failures[0]):void 0})},vt.prototype.bulkGet=function(t){var n=this;return this._trans(&quot;readonly&quot;,function(e){return n.core.getMany({keys:t,trans:e}).then(function(e){return e.map(function(e){return n.hook.reading.fire(e)})})})},vt.prototype.bulkAdd=function(r,e,t){var o=this,a=Array.isArray(e)?e:void 0,u=(t=t||(a?void 0:e))?t.allKeys:void 0;return this._trans(&quot;readwrite&quot;,function(e){var t=o.schema.primKey,n=t.auto,t=t.keyPath;if(t&amp;&amp;a)throw new Y.InvalidArgument(&quot;bulkAdd(): keys argument invalid on tables with inbound keys&quot;);if(a&amp;&amp;a.length!==r.length)throw new Y.InvalidArgument(&quot;Arguments objects and keys must have the same length&quot;);var i=r.length,t=t&amp;&amp;n?r.map(at(t)):r;return o.core.mutate({trans:e,type:&quot;add&quot;,keys:a,values:t,wantResults:u}).then(function(e){var t=e.numFailures,n=e.results,r=e.lastResult,e=e.failures;if(0===t)return u?n:r;throw new V(&quot;&quot;.concat(o.name,&quot;.bulkAdd(): &quot;).concat(t,&quot; of &quot;).concat(i,&quot; operations failed&quot;),e)})})},vt.prototype.bulkPut=function(r,e,t){var o=this,a=Array.isArray(e)?e:void 0,u=(t=t||(a?void 0:e))?t.allKeys:void 0;return this._trans(&quot;readwrite&quot;,function(e){var t=o.schema.primKey,n=t.auto,t=t.keyPath;if(t&amp;&amp;a)throw new Y.InvalidArgument(&quot;bulkPut(): keys argument invalid on tables with inbound keys&quot;);if(a&amp;&amp;a.length!==r.length)throw new Y.InvalidArgument(&quot;Arguments objects and keys must have the same length&quot;);var i=r.length,t=t&amp;&amp;n?r.map(at(t)):r;return o.core.mutate({trans:e,type:&quot;put&quot;,keys:a,values:t,wantResults:u}).then(function(e){var t=e.numFailures,n=e.results,r=e.lastResult,e=e.failures;if(0===t)return u?n:r;throw new V(&quot;&quot;.concat(o.name,&quot;.bulkPut(): &quot;).concat(t,&quot; of &quot;).concat(i,&quot; operations failed&quot;),e)})})},vt.prototype.bulkUpdate=function(t){var h=this,n=this.core,r=t.map(function(e){return e.key}),i=t.map(function(e){return e.changes}),d=[];return this._trans(&quot;readwrite&quot;,function(e){return n.getMany({trans:e,keys:r,cache:&quot;clone&quot;}).then(function(c){var l=[],f=[];t.forEach(function(e,t){var n=e.key,r=e.changes,i=c[t];if(i){for(var o=0,a=Object.keys(r);o&lt;a.length;o++){var u=a[o],s=r[u];if(u===h.schema.primKey.keyPath){if(0!==st(s,n))throw new Y.Constraint(&quot;Cannot update primary key in bulkUpdate()&quot;)}else w(i,u,s)}d.push(t),l.push(n),f.push(i)}});var s=l.length;return n.mutate({trans:e,type:&quot;put&quot;,keys:l,values:f,updates:{keys:r,changeSpecs:i}}).then(function(e){var t=e.numFailures,n=e.failures;if(0===t)return s;for(var r=0,i=Object.keys(n);r&lt;i.length;r++){var o,a=i[r],u=d[Number(a)];null!=u&amp;&amp;(o=n[a],delete n[a],n[u]=o)}throw new V(&quot;&quot;.concat(h.name,&quot;.bulkUpdate(): &quot;).concat(t,&quot; of &quot;).concat(s,&quot; operations failed&quot;),n)})})})},vt.prototype.bulkDelete=function(t){var r=this,i=t.length;return this._trans(&quot;readwrite&quot;,function(e){return r.core.mutate({trans:e,type:&quot;delete&quot;,keys:t}).then(function(e){return ft(r,t,e)})}).then(function(e){var t=e.numFailures,n=e.lastResult,e=e.failures;if(0===t)return n;throw new V(&quot;&quot;.concat(r.name,&quot;.bulkDelete(): &quot;).concat(t,&quot; of &quot;).concat(i,&quot; operations failed&quot;),e)})},vt);function vt(){}function mt(i){function t(e,t){if(t){for(var n=arguments.length,r=new Array(n-1);--n;)r[n-1]=arguments[n];return a[e].subscribe.apply(null,r),i}if(&quot;string&quot;==typeof e)return a[e]}var a={};t.addEventType=u;for(var e=1,n=arguments.length;e&lt;n;++e)u(arguments[e]);return t;function u(e,n,r){if(&quot;object&quot;!=typeof e){var i;n=n||ne;var o={subscribers:[],fire:r=r||G,subscribe:function(e){-1===o.subscribers.indexOf(e)&amp;&amp;(o.subscribers.push(e),o.fire=n(o.fire,e))},unsubscribe:function(t){o.subscribers=o.subscribers.filter(function(e){return e!==t}),o.fire=o.subscribers.reduce(n,r)}};return a[e]=t[e]=o}O(i=e).forEach(function(e){var t=i[e];if(x(t))u(e,i[e][0],i[e][1]);else{if(&quot;asap&quot;!==t)throw new Y.InvalidArgument(&quot;Invalid event config&quot;);var n=u(e,X,function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];n.subscribers.forEach(function(e){v(function(){e.apply(null,t)})})})}})}}function bt(e,t){return o(t).from({prototype:e}),t}function gt(e,t){return!(e.filter||e.algorithm||e.or)&amp;&amp;(t?e.justLimit:!e.replayFilter)}function wt(e,t){e.filter=it(e.filter,t)}function _t(e,t,n){var r=e.replayFilter;e.replayFilter=r?function(){return it(r(),t())}:t,e.justLimit=n&amp;&amp;!r}function xt(e,t){if(e.isPrimKey)return t.primaryKey;var n=t.getIndexByKeyPath(e.index);if(!n)throw new Y.Schema(&quot;KeyPath &quot;+e.index+&quot; on object store &quot;+t.name+&quot; is not indexed&quot;);return n}function kt(e,t,n){var r=xt(e,t.schema);return t.openCursor({trans:n,values:!e.keysOnly,reverse:&quot;prev&quot;===e.dir,unique:!!e.unique,query:{index:r,range:e.range}})}function Ot(e,o,t,n){var a=e.replayFilter?it(e.filter,e.replayFilter()):e.filter;if(e.or){var u={},r=function(e,t,n){var r,i;a&amp;&amp;!a(t,n,function(e){return t.stop(e)},function(e){return t.fail(e)})||(&quot;[object ArrayBuffer]&quot;===(i=&quot;&quot;+(r=t.primaryKey))&amp;&amp;(i=&quot;&quot;+new Uint8Array(r)),m(u,i)||(u[i]=!0,o(e,t,n)))};return Promise.all([e.or._iterate(r,t),Pt(kt(e,n,t),e.algorithm,r,!e.keysOnly&amp;&amp;e.valueMapper)])}return Pt(kt(e,n,t),it(e.algorithm,a),o,!e.keysOnly&amp;&amp;e.valueMapper)}function Pt(e,r,i,o){var a=Ie(o?function(e,t,n){return i(o(e),t,n)}:i);return e.then(function(n){if(n)return n.start(function(){var t=function(){return n.continue()};r&amp;&amp;!r(n,function(e){return t=e},function(e){n.stop(e),t=G},function(e){n.fail(e),t=G})||a(n.value,n,function(e){return t=e}),t()})})}var Kt=(Et.prototype._read=function(e,t){var n=this._ctx;return n.error?n.table._trans(null,Xe.bind(null,n.error)):n.table._trans(&quot;readonly&quot;,e).then(t)},Et.prototype._write=function(e){var t=this._ctx;return t.error?t.table._trans(null,Xe.bind(null,t.error)):t.table._trans(&quot;readwrite&quot;,e,&quot;locked&quot;)},Et.prototype._addAlgorithm=function(e){var t=this._ctx;t.algorithm=it(t.algorithm,e)},Et.prototype._iterate=function(e,t){return Ot(this._ctx,e,t,this._ctx.table.core)},Et.prototype.clone=function(e){var t=Object.create(this.constructor.prototype),n=Object.create(this._ctx);return e&amp;&amp;a(n,e),t._ctx=n,t},Et.prototype.raw=function(){return this._ctx.valueMapper=null,this},Et.prototype.each=function(t){var n=this._ctx;return this._read(function(e){return Ot(n,t,e,n.table.core)})},Et.prototype.count=function(e){var i=this;return this._read(function(e){var t=i._ctx,n=t.table.core;if(gt(t,!0))return n.count({trans:e,query:{index:xt(t,n.schema),range:t.range}}).then(function(e){return Math.min(e,t.limit)});var r=0;return Ot(t,function(){return++r,!1},e,n).then(function(){return r})}).then(e)},Et.prototype.sortBy=function(e,t){var n=e.split(&quot;.&quot;).reverse(),r=n[0],i=n.length-1;function o(e,t){return t?o(e[n[t]],t-1):e[r]}var a=&quot;next&quot;===this._ctx.dir?1:-1;function u(e,t){return st(o(e,i),o(t,i))*a}return this.toArray(function(e){return e.sort(u)}).then(t)},Et.prototype.toArray=function(e){var o=this;return this._read(function(e){var t=o._ctx;if(&quot;next&quot;===t.dir&amp;&amp;gt(t,!0)&amp;&amp;0&lt;t.limit){var n=t.valueMapper,r=xt(t,t.table.core.schema);return t.table.core.query({trans:e,limit:t.limit,values:!0,query:{index:r,range:t.range}}).then(function(e){e=e.result;return n?e.map(n):e})}var i=[];return Ot(t,function(e){return i.push(e)},e,t.table.core).then(function(){return i})},e)},Et.prototype.offset=function(t){var e=this._ctx;return t&lt;=0||(e.offset+=t,gt(e)?_t(e,function(){var n=t;return function(e,t){return 0===n||(1===n?--n:t(function(){e.advance(n),n=0}),!1)}}):_t(e,function(){var e=t;return function(){return--e&lt;0}})),this},Et.prototype.limit=function(e){return this._ctx.limit=Math.min(this._ctx.limit,e),_t(this._ctx,function(){var r=e;return function(e,t,n){return--r&lt;=0&amp;&amp;t(n),0&lt;=r}},!0),this},Et.prototype.until=function(r,i){return wt(this._ctx,function(e,t,n){return!r(e.value)||(t(n),i)}),this},Et.prototype.first=function(e){return this.limit(1).toArray(function(e){return e[0]}).then(e)},Et.prototype.last=function(e){return this.reverse().first(e)},Et.prototype.filter=function(t){var e;return wt(this._ctx,function(e){return t(e.value)}),(e=this._ctx).isMatch=it(e.isMatch,t),this},Et.prototype.and=function(e){return this.filter(e)},Et.prototype.or=function(e){return new this.db.WhereClause(this._ctx.table,e,this)},Et.prototype.reverse=function(){return this._ctx.dir=&quot;prev&quot;===this._ctx.dir?&quot;next&quot;:&quot;prev&quot;,this._ondirectionchange&amp;&amp;this._ondirectionchange(this._ctx.dir),this},Et.prototype.desc=function(){return this.reverse()},Et.prototype.eachKey=function(n){var e=this._ctx;return e.keysOnly=!e.isMatch,this.each(function(e,t){n(t.key,t)})},Et.prototype.eachUniqueKey=function(e){return this._ctx.unique=&quot;unique&quot;,this.eachKey(e)},Et.prototype.eachPrimaryKey=function(n){var e=this._ctx;return e.keysOnly=!e.isMatch,this.each(function(e,t){n(t.primaryKey,t)})},Et.prototype.keys=function(e){var t=this._ctx;t.keysOnly=!t.isMatch;var n=[];return this.each(function(e,t){n.push(t.key)}).then(function(){return n}).then(e)},Et.prototype.primaryKeys=function(e){var n=this._ctx;if(&quot;next&quot;===n.dir&amp;&amp;gt(n,!0)&amp;&amp;0&lt;n.limit)return this._read(function(e){var t=xt(n,n.table.core.schema);return n.table.core.query({trans:e,values:!1,limit:n.limit,query:{index:t,range:n.range}})}).then(function(e){return e.result}).then(e);n.keysOnly=!n.isMatch;var r=[];return this.each(function(e,t){r.push(t.primaryKey)}).then(function(){return r}).then(e)},Et.prototype.uniqueKeys=function(e){return this._ctx.unique=&quot;unique&quot;,this.keys(e)},Et.prototype.firstKey=function(e){return this.limit(1).keys(function(e){return e[0]}).then(e)},Et.prototype.lastKey=function(e){return this.reverse().firstKey(e)},Et.prototype.distinct=function(){var e=this._ctx,e=e.index&amp;&amp;e.table.schema.idxByName[e.index];if(!e||!e.multi)return this;var n={};return wt(this._ctx,function(e){var t=e.primaryKey.toString(),e=m(n,t);return n[t]=!0,!e}),this},Et.prototype.modify=function(x){var n=this,k=this._ctx;return this._write(function(p){var y=&quot;function&quot;==typeof x?x:function(e){return pt(e,x)},v=k.table.core,e=v.schema.primaryKey,m=e.outbound,b=e.extractKey,g=200,e=n.db._options.modifyChunkSize;e&amp;&amp;(g=&quot;object&quot;==typeof e?e[v.name]||e[&quot;*&quot;]||200:e);function w(e,t){var n=t.failures,t=t.numFailures;u+=e-t;for(var r=0,i=O(n);r&lt;i.length;r++){var o=i[r];a.push(n[o])}}var a=[],u=0,t=[],_=x===St;return n.clone().primaryKeys().then(function(f){function h(s){var c=Math.min(g,f.length-s),l=f.slice(s,s+c);return(_?Promise.resolve([]):v.getMany({trans:p,keys:l,cache:&quot;immutable&quot;})).then(function(e){var n=[],t=[],r=m?[]:null,i=_?l:[];if(!_)for(var o=0;o&lt;c;++o){var a=e[o],u={value:S(a),primKey:f[s+o]};!1!==y.call(u,u.value,u)&amp;&amp;(null==u.value?i.push(f[s+o]):m||0===st(b(a),b(u.value))?(t.push(u.value),m&amp;&amp;r.push(f[s+o])):(i.push(f[s+o]),n.push(u.value)))}return Promise.resolve(0&lt;n.length&amp;&amp;v.mutate({trans:p,type:&quot;add&quot;,values:n}).then(function(e){for(var t in e.failures)i.splice(parseInt(t),1);w(n.length,e)})).then(function(){return(0&lt;t.length||d&amp;&amp;&quot;object&quot;==typeof x)&amp;&amp;v.mutate({trans:p,type:&quot;put&quot;,keys:r,values:t,criteria:d,changeSpec:&quot;function&quot;!=typeof x&amp;&amp;x,isAdditionalChunk:0&lt;s}).then(function(e){return w(t.length,e)})}).then(function(){return(0&lt;i.length||d&amp;&amp;_)&amp;&amp;v.mutate({trans:p,type:&quot;delete&quot;,keys:i,criteria:d,isAdditionalChunk:0&lt;s}).then(function(e){return ft(k.table,i,e)}).then(function(e){return w(i.length,e)})}).then(function(){return f.length&gt;s+c&amp;&amp;h(s+g)})})}var d=gt(k)&amp;&amp;k.limit===1/0&amp;&amp;(&quot;function&quot;!=typeof x||_)&amp;&amp;{index:k.index,range:k.range};return h(0).then(function(){if(0&lt;a.length)throw new U(&quot;Error modifying one or more objects&quot;,a,u,t);return f.length})})})},Et.prototype.delete=function(){var i=this._ctx,n=i.range;return!gt(i)||i.table.schema.yProps||!i.isPrimKey&amp;&amp;3!==n.type?this.modify(St):this._write(function(e){var t=i.table.core.schema.primaryKey,r=n;return i.table.core.count({trans:e,query:{index:t,range:r}}).then(function(n){return i.table.core.mutate({trans:e,type:&quot;deleteRange&quot;,range:r}).then(function(e){var t=e.failures,e=e.numFailures;if(e)throw new U(&quot;Could not delete some values&quot;,Object.keys(t).map(function(e){return t[e]}),n-e);return n-e})})})},Et);function Et(){}var St=function(e,t){return t.value=null};function jt(e,t){return e&lt;t?-1:e===t?0:1}function At(e,t){return t&lt;e?-1:e===t?0:1}function Ct(e,t,n){e=e instanceof Bt?new e.Collection(e):e;return e._ctx.error=new(n||TypeError)(t),e}function Tt(e){return new e.Collection(e,function(){return Dt(&quot;&quot;)}).limit(0)}function It(e,s,n,r){var i,c,l,f,h,d,p,y=n.length;if(!n.every(function(e){return&quot;string&quot;==typeof e}))return Ct(e,Ze);function t(e){i=&quot;next&quot;===e?function(e){return e.toUpperCase()}:function(e){return e.toLowerCase()},c=&quot;next&quot;===e?function(e){return e.toLowerCase()}:function(e){return e.toUpperCase()},l=&quot;next&quot;===e?jt:At;var t=n.map(function(e){return{lower:c(e),upper:i(e)}}).sort(function(e,t){return l(e.lower,t.lower)});f=t.map(function(e){return e.upper}),h=t.map(function(e){return e.lower}),p=&quot;next&quot;===(d=e)?&quot;&quot;:r}t(&quot;next&quot;);e=new e.Collection(e,function(){return qt(f[0],h[y-1]+r)});e._ondirectionchange=function(e){t(e)};var v=0;return e._addAlgorithm(function(e,t,n){var r=e.key;if(&quot;string&quot;!=typeof r)return!1;var i=c(r);if(s(i,h,v))return!0;for(var o=null,a=v;a&lt;y;++a){var u=function(e,t,n,r,i,o){for(var a=Math.min(e.length,r.length),u=-1,s=0;s&lt;a;++s){var c=t[s];if(c!==r[s])return i(e[s],n[s])&lt;0?e.substr(0,s)+n[s]+n.substr(s+1):i(e[s],r[s])&lt;0?e.substr(0,s)+r[s]+n.substr(s+1):0&lt;=u?e.substr(0,u)+t[u]+n.substr(u+1):null;i(e[s],c)&lt;0&amp;&amp;(u=s)}return a&lt;r.length&amp;&amp;&quot;next&quot;===o?e+n.substr(e.length):a&lt;e.length&amp;&amp;&quot;prev&quot;===o?e.substr(0,n.length):u&lt;0?null:e.substr(0,u)+r[u]+n.substr(u+1)}(r,i,f[a],h[a],l,d);null===u&amp;&amp;null===o?v=a+1:(null===o||0&lt;l(o,u))&amp;&amp;(o=u)}return t(null!==o?function(){e.continue(o+p)}:n),!1}),e}function qt(e,t,n,r){return{type:2,lower:e,upper:t,lowerOpen:n,upperOpen:r}}function Dt(e){return{type:1,lower:e,upper:e}}var Bt=(Object.defineProperty(Rt.prototype,&quot;Collection&quot;,{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),Rt.prototype.between=function(e,t,n,r){n=!1!==n,r=!0===r;try{return 0&lt;this._cmp(e,t)||0===this._cmp(e,t)&amp;&amp;(n||r)&amp;&amp;(!n||!r)?Tt(this):new this.Collection(this,function(){return qt(e,t,!n,!r)})}catch(e){return Ct(this,Je)}},Rt.prototype.equals=function(e){return null==e?Ct(this,Je):new this.Collection(this,function(){return Dt(e)})},Rt.prototype.above=function(e){return null==e?Ct(this,Je):new this.Collection(this,function(){return qt(e,void 0,!0)})},Rt.prototype.aboveOrEqual=function(e){return null==e?Ct(this,Je):new this.Collection(this,function(){return qt(e,void 0,!1)})},Rt.prototype.below=function(e){return null==e?Ct(this,Je):new this.Collection(this,function(){return qt(void 0,e,!1,!0)})},Rt.prototype.belowOrEqual=function(e){return null==e?Ct(this,Je):new this.Collection(this,function(){return qt(void 0,e)})},Rt.prototype.startsWith=function(e){return&quot;string&quot;!=typeof e?Ct(this,Ze):this.between(e,e+He,!0,!0)},Rt.prototype.startsWithIgnoreCase=function(e){return&quot;&quot;===e?this.startsWith(e):It(this,function(e,t){return 0===e.indexOf(t[0])},[e],He)},Rt.prototype.equalsIgnoreCase=function(e){return It(this,function(e,t){return e===t[0]},[e],&quot;&quot;)},Rt.prototype.anyOfIgnoreCase=function(){var e=D.apply(q,arguments);return 0===e.length?Tt(this):It(this,function(e,t){return-1!==t.indexOf(e)},e,&quot;&quot;)},Rt.prototype.startsWithAnyOfIgnoreCase=function(){var e=D.apply(q,arguments);return 0===e.length?Tt(this):It(this,function(t,e){return e.some(function(e){return 0===t.indexOf(e)})},e,He)},Rt.prototype.anyOf=function(){var t=this,i=D.apply(q,arguments),o=this._cmp;try{i.sort(o)}catch(e){return Ct(this,Je)}if(0===i.length)return Tt(this);var e=new this.Collection(this,function(){return qt(i[0],i[i.length-1])});e._ondirectionchange=function(e){o=&quot;next&quot;===e?t._ascending:t._descending,i.sort(o)};var a=0;return e._addAlgorithm(function(e,t,n){for(var r=e.key;0&lt;o(r,i[a]);)if(++a===i.length)return t(n),!1;return 0===o(r,i[a])||(t(function(){e.continue(i[a])}),!1)}),e},Rt.prototype.notEqual=function(e){return this.inAnyRange([[-1/0,e],[e,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},Rt.prototype.noneOf=function(){var e=D.apply(q,arguments);if(0===e.length)return new this.Collection(this);try{e.sort(this._ascending)}catch(e){return Ct(this,Je)}var t=e.reduce(function(e,t){return e?e.concat([[e[e.length-1][1],t]]):[[-1/0,t]]},null);return t.push([e[e.length-1],this.db._maxKey]),this.inAnyRange(t,{includeLowers:!1,includeUppers:!1})},Rt.prototype.inAnyRange=function(e,t){var o=this,a=this._cmp,u=this._ascending,n=this._descending,s=this._min,c=this._max;if(0===e.length)return Tt(this);if(!e.every(function(e){return void 0!==e[0]&amp;&amp;void 0!==e[1]&amp;&amp;u(e[0],e[1])&lt;=0}))return Ct(this,&quot;First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower&quot;,Y.InvalidArgument);var r=!t||!1!==t.includeLowers,i=t&amp;&amp;!0===t.includeUppers;var l,f=u;function h(e,t){return f(e[0],t[0])}try{(l=e.reduce(function(e,t){for(var n=0,r=e.length;n&lt;r;++n){var i=e[n];if(a(t[0],i[1])&lt;0&amp;&amp;0&lt;a(t[1],i[0])){i[0]=s(i[0],t[0]),i[1]=c(i[1],t[1]);break}}return n===r&amp;&amp;e.push(t),e},[])).sort(h)}catch(e){return Ct(this,Je)}var d=0,p=i?function(e){return 0&lt;u(e,l[d][1])}:function(e){return 0&lt;=u(e,l[d][1])},y=r?function(e){return 0&lt;n(e,l[d][0])}:function(e){return 0&lt;=n(e,l[d][0])};var v=p,e=new this.Collection(this,function(){return qt(l[0][0],l[l.length-1][1],!r,!i)});return e._ondirectionchange=function(e){f=&quot;next&quot;===e?(v=p,u):(v=y,n),l.sort(h)},e._addAlgorithm(function(e,t,n){for(var r,i=e.key;v(i);)if(++d===l.length)return t(n),!1;return!p(r=i)&amp;&amp;!y(r)||(0===o._cmp(i,l[d][1])||0===o._cmp(i,l[d][0])||t(function(){f===u?e.continue(l[d][0]):e.continue(l[d][1])}),!1)}),e},Rt.prototype.startsWithAnyOf=function(){var e=D.apply(q,arguments);return e.every(function(e){return&quot;string&quot;==typeof e})?0===e.length?Tt(this):this.inAnyRange(e.map(function(e){return[e,e+He]})):Ct(this,&quot;startsWithAnyOf() only works with strings&quot;)},Rt);function Rt(){}function Ft(t){return Ie(function(e){return Mt(e),t(e.target.error),!1})}function Mt(e){e.stopPropagation&amp;&amp;e.stopPropagation(),e.preventDefault&amp;&amp;e.preventDefault()}var Nt=&quot;storagemutated&quot;,Lt=&quot;x-storagemutated-1&quot;,Ut=mt(null,Nt),Vt=(zt.prototype._lock=function(){return y(!me.global),++this._reculock,1!==this._reculock||me.global||(me.lockOwnerFor=this),this},zt.prototype._unlock=function(){if(y(!me.global),0==--this._reculock)for(me.global||(me.lockOwnerFor=null);0&lt;this._blockedFuncs.length&amp;&amp;!this._locked();){var e=this._blockedFuncs.shift();try{$e(e[1],e[0])}catch(e){}}return this},zt.prototype._locked=function(){return this._reculock&amp;&amp;me.lockOwnerFor!==this},zt.prototype.create=function(t){var n=this;if(!this.mode)return this;var e=this.db.idbdb,r=this.db._state.dbOpenError;if(y(!this.idbtrans),!t&amp;&amp;!e)switch(r&amp;&amp;r.name){case&quot;DatabaseClosedError&quot;:throw new Y.DatabaseClosed(r);case&quot;MissingAPIError&quot;:throw new Y.MissingAPI(r.message,r);default:throw new Y.OpenFailed(r)}if(!this.active)throw new Y.TransactionInactive;return y(null===this._completion._state),(t=this.idbtrans=t||(this.db.core||e).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=Ie(function(e){Mt(e),n._reject(t.error)}),t.onabort=Ie(function(e){Mt(e),n.active&amp;&amp;n._reject(new Y.Abort(t.error)),n.active=!1,n.on(&quot;abort&quot;).fire(e)}),t.oncomplete=Ie(function(){n.active=!1,n._resolve(),&quot;mutatedParts&quot;in t&amp;&amp;Ut.storagemutated.fire(t.mutatedParts)}),this},zt.prototype._promise=function(n,r,i){var o=this;if(&quot;readwrite&quot;===n&amp;&amp;&quot;readwrite&quot;!==this.mode)return Xe(new Y.ReadOnly(&quot;Transaction is readonly&quot;));if(!this.active)return Xe(new Y.TransactionInactive);if(this._locked())return new _e(function(e,t){o._blockedFuncs.push([function(){o._promise(n,r,i).then(e,t)},me])});if(i)return Ne(function(){var e=new _e(function(e,t){o._lock();var n=r(e,t,o);n&amp;&amp;n.then&amp;&amp;n.then(e,t)});return e.finally(function(){return o._unlock()}),e._lib=!0,e});var e=new _e(function(e,t){var n=r(e,t,o);n&amp;&amp;n.then&amp;&amp;n.then(e,t)});return e._lib=!0,e},zt.prototype._root=function(){return this.parent?this.parent._root():this},zt.prototype.waitFor=function(e){var t,r=this._root(),i=_e.resolve(e);r._waitingFor?r._waitingFor=r._waitingFor.then(function(){return i}):(r._waitingFor=i,r._waitingQueue=[],t=r.idbtrans.objectStore(r.storeNames[0]),function e(){for(++r._spinCount;r._waitingQueue.length;)r._waitingQueue.shift()();r._waitingFor&amp;&amp;(t.get(-1/0).onsuccess=e)}());var o=r._waitingFor;return new _e(function(t,n){i.then(function(e){return r._waitingQueue.push(Ie(t.bind(null,e)))},function(e){return r._waitingQueue.push(Ie(n.bind(null,e)))}).finally(function(){r._waitingFor===o&amp;&amp;(r._waitingFor=null)})})},zt.prototype.abort=function(){this.active&amp;&amp;(this.active=!1,this.idbtrans&amp;&amp;this.idbtrans.abort(),this._reject(new Y.Abort))},zt.prototype.table=function(e){var t=this._memoizedTables||(this._memoizedTables={});if(m(t,e))return t[e];var n=this.schema[e];if(!n)throw new Y.NotFound(&quot;Table &quot;+e+&quot; not part of transaction&quot;);n=new this.db.Table(e,n,this);return n.core=this.db.core.table(e),t[e]=n},zt);function zt(){}function Wt(e,t,n,r,i,o,a,u){return{name:e,keyPath:t,unique:n,multi:r,auto:i,compound:o,src:(n&amp;&amp;!a?&quot;&amp;&quot;:&quot;&quot;)+(r?&quot;*&quot;:&quot;&quot;)+(i?&quot;++&quot;:&quot;&quot;)+Yt(t),type:u}}function Yt(e){return&quot;string&quot;==typeof e?e:e?&quot;[&quot;+[].join.call(e,&quot;+&quot;)+&quot;]&quot;:&quot;&quot;}function $t(e,t,n){return{name:e,primKey:t,indexes:n,mappedClass:null,idxByName:(r=function(e){return[e.name,e]},n.reduce(function(e,t,n){n=r(t,n);return n&amp;&amp;(e[n[0]]=n[1]),e},{}))};var r}var Qt=function(e){try{return e.only([[]]),Qt=function(){return[[]]},[[]]}catch(e){return Qt=function(){return He},He}};function Gt(t){return null==t?function(){}:&quot;string&quot;==typeof t?1===(n=t).split(&quot;.&quot;).length?function(e){return e[n]}:function(e){return g(e,n)}:function(e){return g(e,t)};var n}function Xt(e){return[].slice.call(e)}var Ht=0;function Jt(e){return null==e?&quot;:id&quot;:&quot;string&quot;==typeof e?e:&quot;[&quot;.concat(e.join(&quot;+&quot;),&quot;]&quot;)}function Zt(e,i,t){function _(e){if(3===e.type)return null;if(4===e.type)throw new Error(&quot;Cannot convert never type to IDBKeyRange&quot;);var t=e.lower,n=e.upper,r=e.lowerOpen,e=e.upperOpen;return void 0===t?void 0===n?null:i.upperBound(n,!!e):void 0===n?i.lowerBound(t,!!r):i.bound(t,n,!!r,!!e)}function n(e){var h,w=e.name;return{name:w,schema:e,mutate:function(e){var y=e.trans,v=e.type,m=e.keys,b=e.values,g=e.range;return new Promise(function(t,e){t=Ie(t);var n=y.objectStore(w),r=null==n.keyPath,i=&quot;put&quot;===v||&quot;add&quot;===v;if(!i&amp;&amp;&quot;delete&quot;!==v&amp;&amp;&quot;deleteRange&quot;!==v)throw new Error(&quot;Invalid operation type: &quot;+v);var o,a=(m||b||{length:1}).length;if(m&amp;&amp;b&amp;&amp;m.length!==b.length)throw new Error(&quot;Given keys array must have same length as given values array.&quot;);if(0===a)return t({numFailures:0,failures:{},results:[],lastResult:void 0});function u(e){++l,Mt(e)}var s=[],c=[],l=0;if(&quot;deleteRange&quot;===v){if(4===g.type)return t({numFailures:l,failures:c,results:[],lastResult:void 0});3===g.type?s.push(o=n.clear()):s.push(o=n.delete(_(g)))}else{var r=i?r?[b,m]:[b,null]:[m,null],f=r[0],h=r[1];if(i)for(var d=0;d&lt;a;++d)s.push(o=h&amp;&amp;void 0!==h[d]?n[v](f[d],h[d]):n[v](f[d])),o.onerror=u;else for(d=0;d&lt;a;++d)s.push(o=n[v](f[d])),o.onerror=u}function p(e){e=e.target.result,s.forEach(function(e,t){return null!=e.error&amp;&amp;(c[t]=e.error)}),t({numFailures:l,failures:c,results:&quot;delete&quot;===v?m:s.map(function(e){return e.result}),lastResult:e})}o.onerror=function(e){u(e),p(e)},o.onsuccess=p})},getMany:function(e){var f=e.trans,h=e.keys;return new Promise(function(t,e){t=Ie(t);for(var n,r=f.objectStore(w),i=h.length,o=new Array(i),a=0,u=0,s=function(e){e=e.target;o[e._pos]=e.result,++u===a&amp;&amp;t(o)},c=Ft(e),l=0;l&lt;i;++l)null!=h[l]&amp;&amp;((n=r.get(h[l]))._pos=l,n.onsuccess=s,n.onerror=c,++a);0===a&amp;&amp;t(o)})},get:function(e){var r=e.trans,i=e.key;return new Promise(function(t,e){t=Ie(t);var n=r.objectStore(w).get(i);n.onsuccess=function(e){return t(e.target.result)},n.onerror=Ft(e)})},query:(h=s,function(f){return new Promise(function(n,e){n=Ie(n);var r,i,o,t=f.trans,a=f.values,u=f.limit,s=f.query,c=u===1/0?void 0:u,l=s.index,s=s.range,t=t.objectStore(w),l=l.isPrimaryKey?t:t.index(l.name),s=_(s);if(0===u)return n({result:[]});h?((c=a?l.getAll(s,c):l.getAllKeys(s,c)).onsuccess=function(e){return n({result:e.target.result})},c.onerror=Ft(e)):(r=0,i=!a&amp;&amp;&quot;openKeyCursor&quot;in l?l.openKeyCursor(s):l.openCursor(s),o=[],i.onsuccess=function(e){var t=i.result;return t?(o.push(a?t.value:t.primaryKey),++r===u?n({result:o}):void t.continue()):n({result:o})},i.onerror=Ft(e))})}),openCursor:function(e){var c=e.trans,o=e.values,a=e.query,u=e.reverse,l=e.unique;return new Promise(function(t,n){t=Ie(t);var e=a.index,r=a.range,i=c.objectStore(w),i=e.isPrimaryKey?i:i.index(e.name),e=u?l?&quot;prevunique&quot;:&quot;prev&quot;:l?&quot;nextunique&quot;:&quot;next&quot;,s=!o&amp;&amp;&quot;openKeyCursor&quot;in i?i.openKeyCursor(_(r),e):i.openCursor(_(r),e);s.onerror=Ft(n),s.onsuccess=Ie(function(e){var r,i,o,a,u=s.result;u?(u.___id=++Ht,u.done=!1,r=u.continue.bind(u),i=(i=u.continuePrimaryKey)&amp;&amp;i.bind(u),o=u.advance.bind(u),a=function(){throw new Error(&quot;Cursor not stopped&quot;)},u.trans=c,u.stop=u.continue=u.continuePrimaryKey=u.advance=function(){throw new Error(&quot;Cursor not started&quot;)},u.fail=Ie(n),u.next=function(){var e=this,t=1;return this.start(function(){return t--?e.continue():e.stop()}).then(function(){return e})},u.start=function(e){function t(){if(s.result)try{e()}catch(e){u.fail(e)}else u.done=!0,u.start=function(){throw new Error(&quot;Cursor behind last entry&quot;)},u.stop()}var n=new Promise(function(t,e){t=Ie(t),s.onerror=Ft(e),u.fail=e,u.stop=function(e){u.stop=u.continue=u.continuePrimaryKey=u.ad</div></div></div></main></body></html>